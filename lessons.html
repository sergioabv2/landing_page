
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1.0, user-scalable=no">
<link rel="icon" href="https://lh3.googleusercontent.com/d/1k9LA88h-FVVn9EeryBRVBrtc5tPl92CK" type="image/x-icon">
    <title>Mozart Academy</title>
   
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.2.1/angular-materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css"></link>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"></link>
<link href="https://cdn.jsdelivr.net/npm/remixicon@3.7.0/fonts/remixicon.css" rel="stylesheet"/>
</script>
   <script src="https://cdn.WebRTC-Experiment.com/MediaStreamRecorder.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mediaelement@4.2.16/build/mediaelementplayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/mediaelement@4.2.16/build/mediaelement-and-player.min.js"></script>
</head>


<style>
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");


body {

  font-family: "Poppins", sans-serif;
background-color: #e5ecef;
}
  
  .collection {
  border: none;
}

.levelp a {
  color: #F44336 !important;
}

.levelp i {
  color: #F44336 !important;
}

.level1 a {
  color: #9024dc !important;
}

.level1 i {
  color: #9024dc;
}

.level2 a {
  color: #1894cc !important;
}

.level2 i {
  color: #1894cc;
}


.level3 a {
  color: #489454 !important;
}

.level3 i {
  color: #489454;
}

.level4 a {
  color: #f0ac14 !important;
}

.level4 i {
  color: #f0ac14;
}

.level5 a {
  color: #485cb4 !important;
}

.level5 i {
  color: #485cb4;
}

.level6 a {
  color: #08949c !important;
}

.level6 i {
  color: #08949c;
}

.level7 a {
  color: #e09c74 !important;
}

.level7 i {
  color: #e09c74;
}



.indicator {
  background-color: #9e9e9e !important;
}

.modal-content {
  padding: 24px !important;
  overflow: visible !important;
  height: 550px !important;
}

.linehorizontal{
  border-bottom: 1px solid lightgray; 
  margin-bottom: 15px;
  margin-left: -30px;
  width: 125%;
}


.collapsible-header{
  margin-left: -35px;
   margin-right: -25px;
}

.collapsible {
    
    
    transition: max-height 0.3s ease-out; 
}

.text-inside{
  text-transform: none;
  cursor: pointer;
}

.inside{
  margin-top: 15px;
  transform: translate(-3px, 5px);
  cursor: pointer;
}

 
  
  .modal-container {
    position: fixed;
    display: table;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    transform: scale(0);
    z-index: 1;
  }

  .modal-container.four {
    z-index: 0;
    transform: scale(1);
  }

   .modal-container.four .modal-background .modal-doc {
    animation: blowUpModal 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }
    .modal-container.four .modal-background .quiz {
    animation: blowUpModal 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }
  .modal-container.four + body {
    z-index: 1;
    animation: blowUpContent 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }
  .modal-container.four.out .modal-background .modal-doc {
    animation: blowUpModalTwo 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }
  
    .modal-container.four.out .modal-background .quiz {
    animation: blowUpModalTwo 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }
 
  .modal-container.four.out + body {
    animation: blowUpContentTwo 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
  }

  .modal-container .modal-background {
    display: table-cell;
    background: rgba(0, 0, 0, 0.8);
    text-align: center;
    vertical-align: middle;
  }
  .modal-container .modal-background .modal-doc {
    padding: 50px;
    display: inline-block;
    border-radius: 3px;
    font-weight: 300;
    position: relative;
  }

.close-modal {
    display: block;
    position: absolute;
   top: 30px;
    right: 0;
    text-decoration: none;
    font-size: 20px;
    font-weight: bold;
    color: #fff;
}

  @keyframes blowUpContent {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    99.9% {
      transform: scale(2);
      opacity: 0;
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes blowUpContentTwo {
    0% {
      transform: scale(2);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  @keyframes blowUpModal {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes blowUpModalTwo {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(0);
      opacity: 0;
    }
  }
  
  




@media screen and (max-width:575px) {
     #drive{
    height: 420px;
    width: 120%;
    margin-left: -25px;
  }
}
  



.video-modal,
.video-modal .overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 3000;
}
.video-modal {
  overflow: hidden;
  position: fixed;
  opacity: 0.0;

  -webkit-transform: translate(500%,0%);
  transform: translate(500%,0%);

  -webkit-transition: -webkit-transform 0s linear 0s;
  transition: transform 0s linear 0s;


  /* using flexbox for vertical centering */

  /* Flexbox display */
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;

  /* Vertical alignment */
  -webkit-box-align: center;
  -moz-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;

  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  transform-style: preserve-3d;
}
.video-modal .overlay {
  z-index: 0;
  background: rgba(118,181,197,0.82);
  opacity: 0.0;

  -webkit-transition: opacity 0.2s ease-out 0.05s;
  transition: opacity 0.2s ease-out 0.05s;
}


.video-modal-content {
  position: relative;
  top: auto;
  right: auto;
  bottom: auto;
  left: auto;
  z-index: 1;
  
  margin: 0 auto;

  overflow-y: visible;

  background: #000;
  
  width: calc(100% - 12em);
  height: 0;
  padding-top: calc((100% - 12em) * 0.5625); /* 16:9 calc */
}

/* Scaling to fit within the current Viewport size:
   When viewport aspect ratio is greater than 16:9
   work off the height instead of the width for calc */
 @media (min-aspect-ratio: 16/9) {
  .video-modal-content {
    width: 0;
    height: calc(100vh - 10em);
    padding-top: 0;
    padding-left: calc((100vh - 10em) * 1.7778); /* 16:9 calc */
  }
}

/* Mobile Layout Tweaks - side margins reduced */
@media (max-width: 640px) {
  .video-modal-content {
    width: calc(100% - 1em);
    padding-top: calc((100% - 1em) * 0.5625); /* 16:9 calc */
  }
}

/* modal close button */
.close-video-modal {
  display: block;
    position: absolute;
    left: 0;
    top: -40px;

    text-decoration: none;
    font-size: 20px;
    font-weight: bold;
    color: #fff;
}

/* set the iframe element to stretch to fit its parent element */
iframe#youtube {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1;

  background: #000;
  box-shadow: 0px 2px 16px rgba(0,0,0,0.5);
}


iframe#quiz {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1;

  background: #000;
  box-shadow: 0px 2px 16px rgba(0,0,0,0.5);
}
 
/* show the modal: 
   add class to the body to reveal */
.show-video-modal .video-modal {
  opacity: 1.0;

  transform: translate(0%,0%);
  -webkit-transform: translate(0%,0%);
}
.show-video-modal .video-modal .overlay {
  opacity: 1.0;
}
.show-video-modal .video-modal-content {
  transform: translate(0%,0%);
  -webkit-transform: translate(0%,0%);
}


  

.lvlmenu {
    display: flex;
    white-space: nowrap;
}

.overview-text-subheader {
  font-size: 13px;
  line-height: 2em;
}

.job-overview-card{
  display: none;
}

.progressbtn{
  position: absolute;
            background-color: black;
  color: white;
            padding: 7px 7px;
            list-style: none;
             border-radius: 5px;
  margin-top: 40px;
 right: 25px;
            font-weight: 550;
  box-shadow: 0px 8px 20px -8px rgba(26, 33, 43, 0.5), 0px 4px 12px 0px rgba(26, 33, 43, 0.05), 0px 1px 3px 0px rgba(26, 33, 43, 0.25), 0px 1.5px 0.5px 0px #454D57 inset, 0px -3px 1px 0px rgba(0, 0, 0, 0.5) inset;
}
/* Cambia el diseño a vertical en pantallas amplias (médium y superiores) */
@media (min-width: 600px) {

  .job-explain{
    margin-top: 20px;
  }
  
  .job-explain img{
    border-radius: 7px 7px 0 0;
  }
  
 
  
  ul.lvlmenu {
    background: transparent;
   padding-top: 20px;
  display: grid;
  grid-template-columns: repeat(1, 1fr);

  grid-row-gap: 10px;
  -webkit-animation: slideY 0.6s both;
          animation: slideY 0.6s both;
    height: 710px;
    
  }
  
    ul.lvlmenu li.tab {
    display: flex;
  flex-direction: column;
  width: 330px;
  height: auto;
  flex-shrink: 0;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  background-color: #fff;
  transform: scale(0.9);
      width: 100%;
       text-transform: none;
  }
  



.job-overview-card{
  display: block;
}
  
  .titlelvlrow{
    display: none;
  }

.job-card {
  background-color: white;
  border-radius: 15px;
  cursor: pointer;
  transition: 0.2s;
}


.job-card-title {
  font-weight: 600;
  margin-top: 10px;
  font-size: 14px;
  color: black;
}
.job-card-subtitle {
  font-size: 13px;
}
.job-card-header {
  display: flex;
  align-items: flex-start;
}

.overview-card:hover {
  transition: none;
  transform: scale(1.02);
} 

.overview-card:hover .level-button {
  transform: translate(20px, 0);
}

.job-overview-buttons {
  display: flex;
  align-items: center;

}
.job-overview-buttons .search-buttons {

  font-size: 11px;
  padding: 0 8px;
  height: 10px;
  margin-top: -35px;
  font-weight: 500;
} 
.job-overview-buttons .search-buttons.time-button {
  margin-left: -10px;
}
.job-overview-buttons .search-buttons.level-button {
  position: absolute;
  right: 45px;

  transition: transform 0.5s ease;
}

 .overview-wrapper {
  display: flex;
  align-items: center;
}

.job-overview-buttons .locklvl {
  background: none;
  box-shadow: none;
   display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;

  color: black !important;
  border: 1px solid #d8d8d8;
  margin-left: auto;
  margin-top: auto;
}

.overview-detail .job-card-title,
.overview-detail .job-card-subtitle {
  margin-top: 4px;
}
.overview-detail .job-card-subtitle {
  font-size: 12px;
  margin-top: -25px;
  margin-left: -25px;
  font-weight: 500;
}

}


 








.job-explain {
  background-color: white;
  border-radius: 0 0 8px 8px;
}

.job-bg {
  -o-object-fit: cover;
     object-fit: cover;
  width: 100%;
  height: 100px;
  transition: 0.3s;
  position: relative;
}

.job-logos {
  margin-top: -30px;
  position: relative;
  margin-bottom: -36px;
  padding: 0 20px;
}


.job-title-wrapper {
  display: flex;
  align-items: center;
}
.job-title-wrapper .job-card-title2 {
  font-size: 20px;
  margin-top: 0;
  font-weight: 600;
}

.job-action {
  display: flex;
  align-items: center;
  margin-left: auto;
}
.job-action svg {
  width: 32px;
  border: 1px solid #d8d8d8;
  color: #83838e;
  border-radius: 8px;
  padding: 6px;
}
.job-action svg + svg {
  margin-left: 12px;
}

.job-explain-content {
  padding: 50px 10px 30px;
}

.job-subtitle-wrapper {
  display: flex;
  align-items: center;
  margin-top: 20px;
}
.job-subtitle-wrapper .posted {
  margin-left: auto;
}
.job-subtitle-wrapper .company-name {
  /*color: #0162ff;*/
  color: black;
  font-weight: 600;
  font-size: 14px;
}
.job-subtitle-wrapper .comp-location,
.job-subtitle-wrapper .posted {
  color: #83838e;
  font-size: 12px;
  font-weight: 500;
}
.job-subtitle-wrapper .comp-location {
  position: relative;
  margin-left: 10px;
}
.job-subtitle-wrapper .comp-location:before {
  content: "";
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background-color: #9b9ba5;
  top: 49%;
  left: -8px;
  position: absolute;
}
.job-subtitle-wrapper .app-number {
  color: black;
  position: relative;
  margin-left: 12px;
}
.job-subtitle-wrapper .app-number:before {
  content: "";
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background-color: #9b9ba5;
  top: 50%;
  left: -7px;
  position: absolute;
}

.explain-bar {
  margin-top: 20px;
  border: 1px solid #d8d8d8;
  border-radius: 8px;
  display: flex;
  height: 66px;
  padding: 0 16px;
  align-items: center;
  justify-content: space-between;
}
.explain-title {
  color: #83838e;
  font-size: 12px;
  line-height: 40px;
  white-space: nowrap;
}
.explain-subtitle {
  display: flex;
  align-items: center;
  font-size: 13px;
  font-weight: 500;
  margin-top: -2px;
  white-space: nowrap;
}
.explain-contents {
  height: 66px;
}
.explain-contents + .explain-contents {
  border-left: 1px solid #d8d8d8;
  padding-left: 16px;
}



@media screen and (max-width: 990px) {
  .explain-contents, .explain-bar {
    height: auto;
  }

  .explain-bar {
    flex-wrap: wrap;
    padding-bottom: 14px;
  }

  .explain-contents {
    width: 50%;
  }

  .explain-contents + .explain-contents {
    padding: 0;
    border: 0;
  }

  .explain-contents:nth-child(2) ~ .explain-contents {
    margin-top: 16px;
    border-top: 1px solid #d8d8d8;
  }

  .job-subtitle-wrapper {
    flex-direction: column;
    align-items: flex-start;
  }
  
 

  .job-subtitle-wrapper .posted {
    margin-left: 0;
    margin-top: 6px;
  }
}














  
  
  .menu-bar {
    position: absolute;
            display: flex;
            justify-content: space-around;
            background-color: black;
            padding: 10px 0;
            list-style: none;
            margin-top: -20px;
    margin-left: 140px;
             border-radius: 10px;
            font-weight: 550;
  box-shadow: 0px 8px 20px -8px rgba(26, 33, 43, 0.5), 0px 4px 12px 0px rgba(26, 33, 43, 0.05), 0px 1px 3px 0px rgba(26, 33, 43, 0.25), 0px 1.5px 0.5px 0px #454D57 inset, 0px -3px 1px 0px rgba(0, 0, 0, 0.5) inset;
        }

        .menu-bar li {
            color: white;
          transition: transform 0.2s;
        }

        .menu-bar a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
        }

.menu-bar li:hover {
  color: white;
            text-decoration: none;
    transform: scaleX(1.03) scaleY(1.06) translateZ(0);
}

.menu-bar li:active {
   color: white;
   text-decoration: none;
    transform: scale(0.96) translateZ(0);
}

    .menu-bar2 {
      position: absolute;
            display: flex;
            justify-content: space-around;
            background-color: black;
            padding: 10px 0;
            list-style: none;
       margin-top: -20px;
    margin-left: 120px;
            font-weight: 550;
  box-shadow: 0px 8px 20px -8px rgba(26, 33, 43, 0.5), 0px 4px 12px 0px rgba(26, 33, 43, 0.05), 0px 1px 3px 0px rgba(26, 33, 43, 0.25), 0px 1.5px 0.5px 0px #454D57 inset, 0px -3px 1px 0px rgba(0, 0, 0, 0.5) inset;
        }

        .menu-bar2 li {
            color: white;
          transition: transform 0.2s;
        }

        .menu-bar2 a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
        }

.menu-bar2 li:hover {
  color: white;
            text-decoration: none;
    transform: scaleX(1.03) scaleY(1.06) translateZ(0);
}

.menu-bar2 li:active {
   color: white;
   text-decoration: none;
    transform: scale(0.96) translateZ(0); 
}

.mic-container{
  display: none;
  margin-top: 350px;
  position: absolute;
 background: transparent;

}

.audio-record {
     display: flex;
     align-items: center;
}

.audio-record i {
     color: gray;
     font-size: 50px;
     cursor: pointer;
     padding: 1px;
}
.audio-record span {
  position: absolute;
  color: white;
   text-shadow: 1px 2px 3px black, 0px 2px 5px black, 0px 1px 3px black!important; 
  font-weight: 300;
  font-size: 14px;
  margin-left: -7px;
  margin-top: 70px;
}
 .audio-record input[type=checkbox] {
     position: absolute;
     visibility: hidden;
}
.audio-record input[type=checkbox]:checked ~ label i {
     color: #fff;
     background: black;
     border-radius: 100%;
     animation: shadow-expansion 1.5s infinite;
}

.audio-properties .audio_record-control {
     width: 100%;
     display: flex;
     flex-flow: row nowrap;
}
 .audio-properties .audio_record-control .audio-overwrite {
     flex-grow: 2;
     font-size: 11px;
     font-weight: regular;
     padding-top: 6px;
     text-align: right;
}
.audio-properties .audio_record-control .audio-overwrite > label {
     padding-right: 10px;
}



 .player-bar {
     font-size: 14px;
     font-weight: bold;
     width: 100%;
     display: flex;
     flex-flow: row nowrap;
     margin: 10px 0;
}

 
#recorder2 {
  position: relative;
  width: 3rem;
  height: 3rem;
  border-radius: 3rem; 
  background: red;
  border: 1px solid #f9f9fa33;
  cursor: pointer;
  box-shadow: 0 1px 4px 0 rgba(12, 12, 13, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.15);
  transition: 0.2s ease;
  animation: shadow-expansion 1.5s infinite;
}
#recorder2 #record {
  width: 20px;
  height: 20px;
  top: 3px;
  left: 10px;
  position: absolute;
  transition: inherit;
}

 @keyframes shadow-expansion {
    0% {
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
  }
  40% {
    box-shadow: 0 0 0 20px rgba(255, 0, 0, 0);
  }
  80% {
    box-shadow: 0 0 0 20px rgba(255, 0, 0, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
  }
}
 .by {
     font-family: sans-serif;
     position: fixed;
     bottom: 20px;
     text-align: center;
     width: 100%;
     font-size: 10px;
}
 .by a {
     text-decoration: none;
     color: #007bff;
     transition: all 0.5s;
}
 .by a:hover {
     color: #0062cc;
}


#record-audio {

  margin-top: -35px;
  margin-left: -20px;
}



 .metronome { 
   position: absolute;
   display: block;
  width: calc(100% - 5em);
  padding: 1em 0.001em 0.5em 1em;   
   margin-top: -50px;
   margin-left: -20px;
   transform: scale(0.8);
  font: inherit;
  line-height: 1;
  overflow: hidden;
   background: black;
  box-shadow: 0px 8px 20px -8px rgba(26, 33, 43, 0.5), 0px 4px 12px 0px rgba(26, 33, 43, 0.05), 0px 1px 3px 0px rgba(26, 33, 43, 0.25), 0px 1.5px 0.5px 0px #454D57 inset, 0px -3px 1px 0px rgba(0, 0, 0, 0.5) inset;
  color: white;
   border-radius: 10px;
  cursor: default;
  z-index: 10;
}

#stop{
  display:none;
}










#dotTarget{
  display:flex;
  margin: auto;
}

.beat{
  width:20px;
  height:30px;
  background:#7d7d7d;
  border-radius:2px;
  margin:0px 5px;
  cursor:pointer;
  transition:.25s;
}



.on-temp{
  background:#bfcc57;
  transform:scale(1, 1.5);
}

.box{
  padding:40px;
}

.beat-count{
  text-align:center;
  width:25px;
  border:none;
  background:none;
  font-size:24px;
}



.button-active{
  background:white;
}

#digitalDisplayContainer{
  display:none;
}



.input-section {
  z-index: 2;
  position: relative;
  width: 95%;
  height: 40px;

  overflow: hidden;
} 



.input-section .thick-fill {
  position: absolute;
  top: 50%;
  transform: translateY(-5px);
  left: 0;
  background: orange;
  border-radius: 1px;
  border: 2px solid white;
  z-index: -1;
  height: 20px;
  width: 80px;
}
 
.tempoSlider {
  border: none;
  height: 20px;
   width: 270px !important;
}

.tempoSlider::-webkit-slider-runnable-track {
  background: transparent !important; /* Hacer la pista (track) transparente */
  border: none !important; /* Elimina cualquier borde de la pista */
}

.tempoSlider::-webkit-slider-thumb {
  -webkit-appearance: none !important;  /* Remueve el estilo predeterminado */
  height: 25px !important;
  width: 25px !important;
  border-radius: 2px !important;
  background: #2d303b !important;
  border: 1px solid white !important;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2) !important;
  cursor: pointer !important;
  -webkit-appearance: none !important;
  margin-top: -11px !important;
}

.thumb {
  display: none;
}


.main-btn{ 
  border: white;
  background: transparent !important;
  border-radius: 50%; /* Esto hace que el contorno sea circular */
  cursor: pointer;
  font-size: 20px;
  float: right;
  margin-right: 20px;
}










  
   @media screen and (min-width:600px){
   #drive{
    height: 480px;
    width: 180%;
    margin-left: -40%;
  }

      .metronome { 
        margin-top: -10px;
     margin-left: -200px;
       width: 300px;
  }
  .menu-bar{
     margin-top: -400px;
     margin-left: -145px;
  }
     .menu-bar2{
        margin-top: -350px;
     margin-left: -145px;
  }
     .mic-container{
       margin-top: 10px;
    margin-left: 450px;
  }


      #record-audio{
        margin-top: 30px;
    margin-left: -605px;
  }
     #lsnContainer{
       height: 285px !important;
       max-height: 285px !important;
     }
     
     .profile-user-data{
       margin-top: 20px;
     }
     
     .p-image{
       margin-top: 20px;
     }
     
     .achievement-list-panel{
       margin-top: 50px;
     }
        #noDocAlert{
        display: none;
      }
   
}
  
    @media screen and (min-width:850px){
   #drive{
    width: 300%;
    margin-left: -100%;
  }
       .metronome { 
     margin-left: -250px;
  }
  .menu-bar{
     margin-left: -190px;
  } 
      .menu-bar2{
     margin-left: -190px;
  }

        .mic-container{
    margin-left: 500px;
  }
       #record-audio{ 
    margin-left: -700px;
  } 
   
   
}
  
      @media screen and (min-width:1050px){
   #drive{
     margin-top: 15px;
    width: 400%;
     height: 840px;
    margin-left: -150%;
  }

       .metronome { 
     margin-left: -330px;
       
  }
  .menu-bar{
     margin-top: -780px;
     margin-left: -300px;
  } 
      .menu-bar2{  
         margin-top: -730px;
     margin-left: -300px;
  }

        .mic-container{
    margin-left: 640px;
  }
       #record-audio{ 
          margin-top: 25px;
    margin-left: -940px;
  } 
}

  












.quiz *{
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
}

.quiz {
  font-family: "Montserrat", sans-serif;
  margin: 0;
  padding: 10px;
}

.quiz-intro {
    max-width: 350px;
  }

.imgQuizContainer{
  text-align: center;
  margin-bottom: 50px;
}

.imageQuiz{
  height: 100px;
  width: 160px;
}

#quiz {
  width: 100%;
  margin: 10% auto 0 auto;
  -webkit-box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  border-radius: 10px;
  background-color: #fff;
  color: #444;
  -webkit-transition: 0.5s all;
  -o-transition: 0.5s all;
  transition: 0.5s all;
}

#quiz-content {
  width: 100%;
  margin: 10% auto 0 auto;
  -webkit-box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  border-radius: 10px;
  background-color: #fff;
  color: #444;
  -webkit-transition: 0.5s all;
  -o-transition: 0.5s all;
  transition: 0.5s all;
}

#results {
  width: 100%;
  margin: 10% auto 0 auto;
  -webkit-box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  border-radius: 10px;
  background-color: white !important;
  color: #444;
  -webkit-transition: 0.5s all;
  -o-transition: 0.5s all;
  transition: 0.5s all;
}

.quiz-started {
  padding: 10px;
}

#quiz-bg {
  background: -webkit-linear-gradient(45deg, #0277bd, #4fc3f7);
  background: -o-linear-gradient(45deg, #0277bd, #4fc3f7);
  background: linear-gradient(45deg, #0277bd, #4fc3f7);
  padding: 25px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  text-align: center;
}

#quiz-bg i {
  color: rgba(255, 255, 255, 0.9);
  font-size: 64px;
  font-weight: 700;
}



#quiz-body {
  padding: 15px;
}

#quiz-body h1 {
  text-align: center;
  font-size: 22px;
  color: #444;
  font-weight: 700;
  margin: 0;
}

#progress-container {
  background-color: #eee;
  height: 6px;
  border-radius: 50px;
  text-align: left;
  position: relative;
  margin-bottom: 12px;
}

#progress {
  width: 0;
  background: -webkit-gradient(
    linear,
    left top,
    right top,
    from(#0288d1),
    to(#4fc3f7)
  );
  background: -webkit-linear-gradient(left, #0288d1, #4fc3f7);
  background: -o-linear-gradient(left, #0288d1, #4fc3f7);
  background: linear-gradient(to right, #0288d1, #4fc3f7);
  border-radius: 50px;
  display: inline-block;
  height: inherit;
  position: absolute;
  -webkit-transition: 0.75s width;
  -o-transition: 0.75s width;
  transition: 0.75s width;
}

#stats {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  justify-content: space-between;
}

#stats p {
  margin: 0;
  font-size: 14px;
}

#stats span {
  color: #666;
  font-weight: 700;
}

#answers h2 {
  margin: 50px 0;
  color: #444;
  font-size: 24px;
}

.answer {
  padding: 5px;
}

.answer-number {
  display: inline-block;
  margin-right: 10px;
  border-top-left-radius: 5px;
  font-weight: 700;
  border-bottom-left-radius: 5px;
}

label {
  display: block;
  width: 100%;
  padding: 7px;
  height: 38px !important;
  background-color: #f5f5f5;
  border-radius: 5px;
  color: #666;
  font-size: 14px;
  -webkit-transition: 0.2s background-color;
  -o-transition: 0.2s background-color;
  transition: 0.2s background-color;
  
}

input[type="radio"]:hover:not(:disabled) + label {
  background-color: rgba(0, 0, 0, 0.13);
}

input[type="radio"] {
 
  opacity: 0;
  position: absolute;
  left: 0;
  top: 0;
}


/* Crear el círculo manualmente */
input[type="radio"] + label::before {
content: none !important;
}


/* Punto interior al seleccionar */
input[type="radio"]:checked + label.red-bg::after {
  content: '\2716';
  width: 30px;
  height: 30px;
  color: darkred;
  background-color: transparent;
  border: transparent;
  border-radius: 50%;
  position: absolute;

  top: 7px;
  text-align: center; /* Alinea horizontalmente el contenido */
  line-height: 18px;
}

input[type="radio"]:checked + label.green-bg::after {
  content: none !important;
}






#notification {
  position: absolute;
  margin-top: -260px;
  height: 250px;
  width: 100%;
  border-radius: 10px;
  padding: 0 0 20px 0;

  background-color: transparent;
  text-align: center;
}

#notification p {
  margin-bottom: 220px;
  font-size: 20px;
  font-weight: bold;
  color: #666;
}

#results {
  padding: 20px;
}

#results h2 {
  font-size: 20px;
}

#results h3 {
  font-size: 16px;
  margin-top: 30px;
  margin-bottom: 15px;
}

#percentage {
  font-size: 45px;
  font-weight: 700;
  display: block;
  margin-top: 15px;
  margin-bottom: 35px;
}

.share-link {
  color: #fff;
  text-decoration: none;
  padding: 7px 20px;
  border-radius: 3px;
  display: inline-block;
  font-size: 14px;
  -webkit-transition: 0.3s background-color;
  -o-transition: 0.3s background-color;
  transition: 0.3s background-color;
}


.shortcuts-info {
  position: absolute;
  display: none;
  right: 0;
  bottom: 35px;
  max-width: 40%;
  margin: 15px;
  padding: 15px;
  border-radius: 10px;
  background-color: #fff;
  -webkit-box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
  box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.15);
}

.shortcuts-info p {
  margin: 10px 0;
}
.tag {
  display: inline-block;
  padding: 3px;
  background-color: #03a9f4;
  color: #fff;
  border-radius: 5px;
  border-bottom: 1px solid #0288d1;
  font-size: 14px;
}



.blue-btn {
  color: white;
  background-color: #2196f3;
}


.blue-btn:hover {
  background-color: #1565c0;
}

.blue-btn:active,
.blue-btn:focus {
  background-color: #074286;
}

/* Utility classes */
.text-center {
  text-align: center;
}
.bold {
  font-weight: 700;
}
.rounded-corners {
  border-radius: 50px;
}
.display-block {
  display: block;
}


.red-bg {
  background-color: #f44336;
  color: #fff;
}
.green-bg {
  background-color: #8bc34a;
  color: #fff;
}

.buttons-container{
  display: flex;
  justify-content: center; /* Centra horizontalmente los botones */
  align-items: center; /* Centra verticalmente los botones */
  gap: 10px; /* Espacio entre los botones */
  margin-top: 60px; 
  margin-bottom: 20px;
}

#next-btn,
#show-results-btn {
  margin: 0 auto;
  padding: 10px 25px;
}

#shortcuts-info-btn {
  display: none;
}



@media (min-width: 576px) {
  .quiz-started {
    max-width: 450px;
  }
  
  .imgQuizContainer{
  margin-bottom: 0px;
}

  .answer {
    display: inline-block;
    width: 49%;
  }

  #shortcuts-info-btn {
    position: fixed;
    display: block;
    bottom: 0;
    right: 0;
    margin: 15px;
    padding: 5px 10px;
    font-size: 12px;
    border: 0;
    border-radius: 50px;
    color: #fff;
    background-color: #aaa;
    -webkit-transition: 0.3s all;
    -o-transition: 0.3s all;
    transition: 0.3s all;
    z-index: 1;
  }
  #shortcuts-info-btn:hover {
    background-color: #888;
  }

  #shortcuts-info-btn:active {
    background-color: #555;
  }
}

</style>
 

<body ng-app="materializeApp">

  <!-- End Header -->
  <!-- Tabs Nav Start -->    
  <div class="row"> 
       <div class="col s12 m4" ng-controller="lvlMenu">  
   <div class="col s12" style="overflow-x: auto;">
  <ul class="tabs lvlmenu"  > 
      <li class="tab levelp"> 
    <a href="#test1">
      <span class="titlelvlrow">Preparatorio</span>
      <div class="job-overview-card">
        <div class="job-card overview-card">
          <div class="overview-wrapper">
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail">
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle">
               Preparatorio 
              </div> 
            </div> 
         
          </div> 
          <div class="job-overview-buttons" ng-if="lvl > 0 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 0 && status == 'ACTIVO'">
  <div class="search-buttons time-button">EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>

   <div class="job-overview-buttons" ng-if="status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>
        </div>
      </div>
    </a>
  </li>
        <li class="tab level1" >
          <a href="#test2">
            <span class="titlelvlrow">&nbsp&nbsp&nbsp&nbsp Grado 1 &nbsp&nbsp&nbsp&nbsp</span>
            <div class="job-overview-card">
        <div class="job-card overview-card">
          <div class="overview-wrapper">
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail">
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle" style="margin-left: -55px">
   Grado 1 
              </div> 
            </div>
         
          </div>
        <div class="job-overview-buttons" ng-if="lvl > 1 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 1 && status == 'ACTIVO'">
  <div class="search-buttons time-button" >EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>
  
   <div class="job-overview-buttons" ng-if="lvl<1 || status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>  
        </div>
      </div>
          </a>
          </li>
        <li class="tab level2" >
          <a href="#test3">  <span class="titlelvlrow">&nbsp&nbsp&nbsp&nbsp Grado 2 &nbsp&nbsp&nbsp&nbsp</span>
            <div class="job-overview-card">
        <div class="job-card overview-card"> 
          <div class="overview-wrapper">
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail"> 
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle" style="margin-left: -55px">
   Grado 2 
              </div> 
            </div>
         
          </div>
         <div class="job-overview-buttons" ng-if="lvl > 2 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 2 && status == 'ACTIVO'">
  <div class="search-buttons time-button" >EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>
 
   <div class="job-overview-buttons" ng-if="lvl<2 || status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>  
        </div>
      </div>
          </a> 
          </li>
          <li class="tab level3">
            <a href="#test4">  <span class="titlelvlrow">&nbsp&nbsp&nbsp&nbsp Grado 3 &nbsp&nbsp&nbsp&nbsp</span>
            <div class="job-overview-card">
        <div class="job-card overview-card">
          <div class="overview-wrapper">  
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail">
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle" style="margin-left: -55px">
   Grado 3 
              </div> 
            </div>
         
          </div>
       <div class="job-overview-buttons" ng-if="lvl > 3 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 3 && status == 'ACTIVO'">
  <div class="search-buttons time-button" >EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>
 
   <div class="job-overview-buttons" ng-if="lvl<3 || status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>  
        </div>
      </div>
            </a>
            </li> 
    <li class="tab level4">
      <a href="#test5">
          <span class="titlelvlrow">&nbsp&nbsp&nbsp&nbsp Grado 4 &nbsp&nbsp&nbsp&nbsp</span>
            <div class="job-overview-card">
        <div class="job-card overview-card">
          <div class="overview-wrapper">
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail">
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle" style="margin-left: -55px">
   Grado 4 
              </div> 
            </div>
         
          </div>
       <div class="job-overview-buttons" ng-if="lvl > 4 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 4 && status == 'ACTIVO'">
  <div class="search-buttons time-button" >EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>
 
   <div class="job-overview-buttons" ng-if="lvl<4 || status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>  
        </div>
      </div>
      </a>
      </li>
      <li class="tab level5">
        <a href="#test6">  <span class="titlelvlrow">&nbsp&nbsp&nbsp&nbsp Grado 5 &nbsp&nbsp&nbsp&nbsp</span>
            <div class="job-overview-card">
        <div class="job-card overview-card">
          <div class="overview-wrapper">
            <img src="https://lh3.googleusercontent.com/d/12G4AuBpDZcg1LAiVq6gfNWShiB-2eXLB" width="50" height="50" style="margin-right: 10px; border-radius: 10px;" />
            <div class="overview-detail">
              <div class="job-card-title">Taller de Piano</div>
              <div class="job-card-subtitle" style="margin-left: -55px">
   Grado 5  
              </div> 
            </div>
          
          </div>
       <div class="job-overview-buttons" ng-if="lvl > 5 && status == 'ACTIVO'">
    <div class="search-buttons time-button" style="color: green">COMPLETADO</div>
    <div class="search-buttons level-button" style="color: green">Progreso: 100 %</div>  
    <i class="locklvl ri-award-fill" style="color: orange !important"> </i>
   </div>
 
    <div class="job-overview-buttons" ng-if="lvl == 5 && status == 'ACTIVO'">
  <div class="search-buttons time-button" >EN CURSO</div>
  <div class="search-buttons level-button">Progreso: {{progress}} %</div>
  <i class="locklvl ri-time-line"> </i>
   </div>
 
   <div class="job-overview-buttons" ng-if="lvl<5 || status != 'ACTIVO'">
<div class="search-buttons time-button" style="color: black;">BLOQUEADO</div>
<div class="search-buttons level-button" style="color: black">Progreso: -</div>    
<i class="locklvl ri-lock-fill" style="background: silver;" > </i>
   </div>  
        </div>
      </div>
        </a>
        </li>
      </ul>
    </div>
</div>
    <!-- Tabs Nav End -->

     
   <div class="col s12 m8">      
    <div id="test1" class="col s12" ng-controller="levelP">
  <!-- CSS Course Start -->
       
      <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos"> 
 
         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
         <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 0 && status == 'ACTIVO'"> Ver progreso </button>   
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 0 && status != 'ACTIVO'"> Inscribirse </button>  
      </div>  
      <div class="job-explain-content">
      <div class="job-title-wrapper">
       <div class="job-card-title2" >Taller de Piano </div>
       <div class="job-action"> 
         <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 0 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="status != 'ACTIVO'"> </i>
         
       </div> 
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #F44336">Grado Preparatorio <span class="comp-location">Nivel básico</span></div>
        <div class="posted">
    <span ng-if="lvl > 0 && status == 'ACTIVO'">COMPLETADO</span>
          <span ng-if="status != 'ACTIVO'">BLOQUEADO</span>
          <span ng-if="lvl == 0 && status == 'ACTIVO'">EN CURSO</span>
          <span class="app-number">{{counter}} Alumnos inscritos</span>
        </div>
       </div>
        
     
        
       <div class="explain-bar" ng-if="lvl > 0 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 0 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
          
      
            <div class="overview-text-subheader" style="margin-top: 15px;" ng-if="status != 'ACTIVO'">Este curso establece las bases para lograr una lectura fluida de partituras, lo cual se traduce en una interpretación más limpia y precisa de las piezas.</div>
        
          <div class="explain-bar" ng-if="status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents">
         <div class="explain-title">Termino del nivel</div>
        <div class="explain-subtitle">  <i class="material-icons">workspace_premium</i><span style="margin-left: 5px;">Diploma</span></div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Horas en video</div>
          <div class="explain-subtitle"><i class="material-icons">tv</i><span style="margin-left: 5px;">12 horas</span></div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Recursos</div>
        <div class="explain-subtitle">  <i class="material-icons">audio_file</i><span style="margin-left: 5px;">30 actividades</span></div>
         </div>
                </div>
         
               </div>
     </div>
      
  <ul class="collection with-header levelp" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4> 
    </li>
     
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">  
        <div>{{lesson.name}} 
   <span class="secondary-content" ng-if="loading || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 0 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span>
       </div>
      </a>   
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton ">
     <div class="linehorizontal"></div>        
        <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="(lvl > 0 || lesson.id <= lsn) && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons" >{{material.icon}}</i>
            {{material.title}}<span class="secondary-content"></span></div>
          <div class="collapsible-body">
               
  <div class="row">  
    <div class="col s12"> 
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9">
              
            <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 0 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 0 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 0 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 0 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
             
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=0 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
            
  </li>
      </ul> 
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
      
    
        
</div>




    








<div id="test2" class="col s12" ng-controller="level1">
  <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos">

         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
   <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 1 && status == 'ACTIVO'"> Ver progreso </button> 
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 1 && status != 'ACTIVO'"> Inscribirse </button>  
      </div>  
     
      <div class="job-explain-content"> 
      <div class="job-title-wrapper">
       <div class="job-card-title2" >Taller de Piano </div>
       <div class="job-action"> 
    <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 1 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="lvl<1 || status != 'ACTIVO'"> </i>   
       </div> 
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #9024dc">Grado 1 <span class="comp-location">Nivel Principiante</span></div>
        <div class="posted">
    <span ng-if="lvl > 1 && status == 'ACTIVO'">COMPLETADO</span>
    <span ng-if="lvl == 1 && status == 'ACTIVO'">EN CURSO</span>
   <span ng-if="lvl < 1 || status != 'ACTIVO'">BLOQUEADO</span>
          <span class="app-number">{{counter}} Alumnos inscritos</span>
          </div>
       </div>
     <div class="explain-bar" ng-if="lvl > 1 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 1 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 

                  <div class="explain-bar" ng-if="lvl < 1 || status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">-</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
        
     <!--   <div class="overview-text-subheader" style="margin-top: 15px;" ng-if="status != 'ACTIVO'">Este nivel establece los fundamentos del concepto de tonalidad.</div>  -->

               </div>
     </div>
    <!-- CSS Course Start -->
      <ul class="collection with-header level1" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4>
    </li>
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">
         <div>{{lesson.name}}<span class="secondary-content" ng-if="lvl < 1 || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 1 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span></div>
      </a> 
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton">
     <div class="linehorizontal" ></div>
        <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="lesson.id <= lsn && lvl >= 1 && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons">{{material.icon}}</i>
            {{material.title}}</div>
          <div class="collapsible-body">
            
  <div class="row">
    <div class="col s12">
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9">
            <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 1 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 1 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 1 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 1 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
            
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=1 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
  </li>
      </ul>
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>





    <div id="test3" class="col s12" ng-controller="level2">
      <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos">

         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
<button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 2 && status == 'ACTIVO'"> Ver progreso </button>   
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 2 && status != 'ACTIVO'"> Inscribirse </button>  
      </div> 
      <div class="job-explain-content">
      <div class="job-title-wrapper">
       <div class="job-card-title2">Taller de Piano </div>
       <div class="job-action"> 
    <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 2 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="lvl < 2 || status != 'ACTIVO'"> </i>
       </div> 
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #1894cc">Grado 2 <span class="comp-location">Nivel Principiante</span></div>
        <div class="posted"><span ng-if="lvl > 2 && status == 'ACTIVO'">COMPLETADO</span>
    <span ng-if="lvl == 2 && status == 'ACTIVO'">EN CURSO</span>
    <span ng-if="lvl < 2 || status != 'ACTIVO'">BLOQUEADO</span>
    <span class="app-number">{{counter}} Alumnos inscritos</span>
    </div>
       </div>
   
     

     <div class="explain-bar" ng-if="lvl > 2 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 2 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 

        
                  <div class="explain-bar" ng-if="lvl < 2 || status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">-</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
               </div>
     </div>
      <!-- JAVASCRIPT Course Start -->
      <ul class="collection with-header level2" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4>
    </li>
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">
        <div>{{lesson.name}}
          <span class="secondary-content" ng-if="lvl < 2 || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 2 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span>
          </div>
      </a>
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton">
     <div class="linehorizontal" ></div>
       <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="lesson.id <= lsn && lvl >= 2  && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons" >{{material.icon}}</i>
            {{material.title}}</div>
          <div class="collapsible-body">
            
  <div class="row">
    <div class="col s12">
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9">
      <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 2 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 2 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 2 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 2 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
            
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=2 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
  </li>
      </ul>
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
      <!-- JAVASCRIPT Course End -->
    </div>
    
    
    
    
    <div id="test4" class="col s12" ng-controller="level3">
      <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos">

         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
        <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 3 && status == 'ACTIVO'"> Ver progreso </button>   
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 3 && status != 'ACTIVO'"> Inscribirse </button>  
      </div> 
      <div class="job-explain-content">
      <div class="job-title-wrapper">
       <div class="job-card-title2">Taller de Piano</div>
       <div class="job-action"> 
       <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 3 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="lvl < 3 || status != 'ACTIVO'"> </i>
       </div> 
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #489454">Grado 3 <span class="comp-location">Nivel Intermedio</span></div>
        <div class="posted"> <span ng-if="lvl > 3 && status == 'ACTIVO'">COMPLETADO</span>
    <span ng-if="lvl == 3 && status == 'ACTIVO'">EN CURSO</span>
    <span ng-if="lvl < 3 || status != 'ACTIVO'">BLOQUEADO</span>
    <span class="app-number">{{counter}} Alumnos inscritos</span></div>
       </div>
       <div class="explain-bar" ng-if="lvl > 3 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 3 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 



                  <div class="explain-bar" ng-if="lvl < 3 || status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">-</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
               </div>
     </div>
      
      <ul class="collection with-header level3" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4>
    </li>
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">
        <div>{{lesson.name}}<span class="secondary-content" ng-if="lvl < 3 || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 3 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span>
</div>
      </a>
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton">
     <div class="linehorizontal" ></div>
     <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="lesson.id <= lsn && lvl >= 3  && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons" >{{material.icon}}</i>
            {{material.title}}</div>
          <div class="collapsible-body">
            
  <div class="row">
    <div class="col s12">
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9">
     <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 3 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 3 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 3 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 3 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
            
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=3 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
  </li>
      </ul>
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>



<div id="test5" class="col s12" ng-controller="level4">
  <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos">

         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
        <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 4 && status == 'ACTIVO'"> Ver progreso </button>   
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 4 && status != 'ACTIVO'"> Inscribirse </button> 
      </div> 
      <div class="job-explain-content">
      <div class="job-title-wrapper">
       <div class="job-card-title2">Taller de Piano</div>
       <div class="job-action"> 
      <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 4 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="lvl < 4 || status != 'ACTIVO'"> </i>
       </div> 
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #f0ac14">Grado 4 <span class="comp-location">Nivel Intermedio</span></div>
        <div class="posted"><span ng-if="lvl > 4 && status == 'ACTIVO'">COMPLETADO</span>
    <span ng-if="lvl == 4 && status == 'ACTIVO'">EN CURSO</span>
    <span ng-if="lvl < 4 || status != 'ACTIVO'">BLOQUEADO</span>
    <span class="app-number">{{counter}} Alumnos inscritos</span>
    </div>
       </div>
       <div class="explain-bar" ng-if="lvl > 4 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 4 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 



                  <div class="explain-bar" ng-if="lvl < 4 || status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">-</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
               </div>
     </div>
  
      <ul class="collection with-header level4" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4>
    </li>
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">
       <div>{{lesson.name}}<span class="secondary-content" ng-if="lvl < 4 || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 4 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span>
          </div>
      </a>
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton">
     <div class="linehorizontal" ></div>
        <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="lesson.id <= lsn && lvl >= 4  && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons">{{material.icon}}</i>
            {{material.title}}</div>
          <div class="collapsible-body">
            
  <div class="row">
    <div class="col s12">
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9"> 
    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 4 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 4 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 4 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 4 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
            
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=4 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
  </li>
      </ul>
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>


<div id="test6" class="col s12" ng-controller="level5">
  <div class="job-explain" >
      <img class="job-bg" src="https://lh3.googleusercontent.com/d/1rlF9FPo-cn93vx7NaYK6Z0LNogarJWk_">
      <div class="job-logos">

         <img src="https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8" width="80" height="80" style="margin-right: 10px; border-radius: 15px;"/>
        <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/profile';" ng-if="lvl == 5 && status == 'ACTIVO'"> Ver progreso </button>   
 <button class="progressbtn"  onclick="window.top.location.href='https://app.mozartacademy.mx/main#/menu/payment';" ng-if="lvl == 5 && status != 'ACTIVO'"> Inscribirse </button> 
      </div> 
      <div class="job-explain-content">
      <div class="job-title-wrapper">
       <div class="job-card-title2">Taller de Piano</div>
       <div class="job-action"> 
     <i class="locklvl ri-award-fill" style="font-size: 25px; margin-right: 5px; color: #F44336" ng-if="lvl > 5 && status == 'ACTIVO'"> </i>
      <i class="locklvl ri-lock-fill" style="font-size: 20px; margin-right: 10px;" ng-if="lvl < 5 || status != 'ACTIVO'"> </i>
       </div>  
       </div>
       <div class="job-subtitle-wrapper">
        <div class="company-name" style="color: #485cb4">Grado 5 <span class="comp-location">Nivel Intermedio</span></div>
       <div class="posted">
    <span ng-if="lvl > 5 && status == 'ACTIVO'">COMPLETADO</span>
    <span ng-if="lvl == 5 && status == 'ACTIVO'">EN CURSO</span>
    <span ng-if="lvl < 5 || status != 'ACTIVO'">BLOQUEADO</span>
    <span class="app-number">{{counter}} Alumnos inscritos</span>
 </div>
       </div>
       <div class="explain-bar" ng-if="lvl > 5 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div> 
        <div class="explain-subtitle">100%</div>
         </div> 
          <div class="explain-contents">
        <div class="explain-title">Puntaje de Tests</div>
        <div class="explain-subtitle">{{history[0].score}}</div>
         </div>
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">{{history[0].finishDate}}</div>
         </div> 
                </div>
        
         <div class="explain-bar" ng-if="lvl == 5 && status == 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">{{progress}} %</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">{{convertirFecha(currentlsns[1].limitdate)}}</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">{{history[0].beginDate}}</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 



                  <div class="explain-bar" ng-if="lvl < 5 || status != 'ACTIVO'">
        <div class="explain-contents">
        <div class="explain-title">Progreso</div>
        <div class="explain-subtitle">-</div>
         </div>
        <div class="explain-contents">
        <div class="explain-title">Límite de próxima entrega</div>
        <div class="explain-subtitle">-</div>
         </div>
            <div class="explain-contents"> 
        <div class="explain-title">Fecha de inicio</div>
        <div class="explain-subtitle">-</div>
         </div>   
        <div class="explain-contents"> 
        <div class="explain-title">Fecha de termino</div>
        <div class="explain-subtitle">-</div>
         </div> 
                </div> 
               </div>
     </div>
  
      <ul class="collection with-header level5" ng-repeat="data in allData">
    <li class="collection-header">
      <h4 >{{data.block}}</h4>
    </li>
    <li class="collection-item" ng-repeat="lesson in data.lessons">
      <a href="#lesson" ng-init="lesson.showButton = false" ng-click="lesson.showButton = !lesson.showButton">
      <div>{{lesson.name}}<span class="secondary-content" ng-if="lvl < 5 || status !== 'ACTIVO'"><i class="material-icons">lock</i></span>
          <span class="secondary-content" ng-if="lvl == 5 && status == 'ACTIVO'">
          <i class="material-icons" ng-if="lesson.id == lsn">schedule</i>
          <i class="material-icons" ng-if="lesson.id > lsn">lock</i>
          </span></div>
      </a>
      
      <ul class="collapsible popout" data-collapsible="accordion" ng-if="lesson.showButton">
     <div class="linehorizontal" ></div>
        <li ng-repeat="material in lesson.material" class="container-lessons" ng-if="lesson.id <= lsn && lvl >= 5 && status === 'ACTIVO'">
          <div class="collapsible-header">
   <i class="material-icons" >{{material.icon}}</i>
            {{material.title}}</div>
          <div class="collapsible-body">
            
  <div class="row">
    <div class="col s12">
      <ul class="tabs" style="display: flex; white-space: nowrap;">
          <li ng-repeat="activity in material.activity" class="tab col s9">
   <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 5 && lsn === lesson.id && currentlsns[activity.index].status == 'A corrección'">cancel</i> 
                 <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 5 && lsn === lesson.id && currentlsns[activity.index].status == 'En revisión'">pending_actions</i>
                <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && (lvl > 5 || lesson.id < lsn)">verified</i> 
                    <i class="material-icons" style="position: absolute; font-size: 15px; margin-left: -15px; margin-top: 10px; " ng-if="activity.media != 'video' && lvl === 5 && lsn === lesson.id && currentlsns[activity.index].status == 'Evaluada'">verified</i> 
            
    <span class="text-inside"  onclick="showModal(this)" data-pdf-id="{{activity.url}}" this-lvl=5 current-lvl="{{lvl}}" lsn-id="{{lesson.id}}" current-lsn="{{lsn}}" current-status="{{currentlsns[activity.index].status}}" current-index="{{activity.index}}" ng-if="activity.media == 'pdf'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
          <span class="text-inside"  this-lvl="{{lvl}}" quiz-icon="{{activity.icon}}" quiz-title="{{activity.type}}" quiz-subtitle="{{activity.title}}" data-package="{{activity.package}}" onclick="showQuiz(this)" ng-if="activity.media == 'quiz'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>  
<span class="text-inside js-trigger-video-modal"  onclick="toggle_video_modal(this)" data-youtube-id="{{activity.url}}" ng-if="activity.media == 'video'"><i class="material-icons inside">{{activity.icon}}</i>{{activity.type}}</span>
  </li>
      </ul>
    </div>
     </div>
          </div>
        </li>
      </ul>
    </li>
  </ul>
</div>
  </div>






   
   
    
  </div> 
  
  
  
   <div class="video-modal">
    <div id="video-modal-content" class="video-modal-content">
       <iframe 
          id="youtube" 
          width="100%" 
          height="100%" 
          frameborder="0" 
          allow="autoplay" 
          allowfullscreen 
          src=
        ></iframe>

        <a 
          href="#" 
          class="close-video-modal" 
        >
          <!-- X close video icon -->
          <svg 
            version="1.1" 
            xmlns="http://www.w3.org/2000/svg" 
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0"
            y="0"
            viewBox="0 0 32 32" 
            style="enable-background:new 0 0 32 32;" 
            xml:space="preserve" 
            width="24" 
            height="24" 
          >
            <g id="icon-x-close">
                <path fill="#ffffff" d="M30.3448276,31.4576271 C29.9059965,31.4572473 29.4852797,31.2855701 29.1751724,30.980339 L0.485517241,2.77694915 C-0.122171278,2.13584324 -0.104240278,1.13679247 0.52607603,0.517159487 C1.15639234,-0.102473494 2.17266813,-0.120100579 2.82482759,0.477288136 L31.5144828,28.680678 C31.9872448,29.1460053 32.1285698,29.8453523 31.8726333,30.4529866 C31.6166968,31.0606209 31.0138299,31.4570487 30.3448276,31.4576271 Z" id="Shape"></path>
                <path fill="#ffffff" d="M1.65517241,31.4576271 C0.986170142,31.4570487 0.383303157,31.0606209 0.127366673,30.4529866 C-0.12856981,29.8453523 0.0127551942,29.1460053 0.485517241,28.680678 L29.1751724,0.477288136 C29.8273319,-0.120100579 30.8436077,-0.102473494 31.473924,0.517159487 C32.1042403,1.13679247 32.1221713,2.13584324 31.5144828,2.77694915 L2.82482759,30.980339 C2.51472031,31.2855701 2.09400353,31.4572473 1.65517241,31.4576271 Z" id="Shape"></path>
            </g>
          </svg>
        </a>
    </div>
    <div class="overlay"></div>
</div>
  

  
<div id="modalPDF" class="modal-container" ng-controller="pdfHandler">
        <div class="modal-background">
            <div class="modal-doc">
              
        <div class="mic-container" id="recorder" >
      <div class="audio-record" id="recorder2">
        <input type="checkbox" id="audio_record-icon" name="audio_record-icon ">
        <label for="audio_record-icon" class="player-icon audio_record-icon">
   <img id="record" src="https://assets.codepen.io/3537853/record.svg" />
        </label> 
        <span> grabando... </span>
      </div>
      <div class="audio-properties" style="display: none;">              
        <div class="audio_record-control">         
          <button class="btn btn-default player-icon save" id="save-recording" onclick="saveRecording();">
          </button>
        
        </div>
      </div>
 
<div id="record-audio"></div>
<!-- <button id="delete-audio">Eliminar</button> -->
  <input type="hidden" id="AudioData" current-index="">
<span id="clicks"></span>
         
</div>
     
       <div class="metronome">  
    <div hidden>
    <button class="main-btn blue flex-centered" id="tap" hidden>Tap</button> 
              <button class="min-btn" id="beatMinus">-</button>
              <input type="number" class="beat-count" id="beatCount" value="4" readonly>
              <button class="min-btn" id="beatPlus">+</button>
    </div>
    
     <ul id="dotTarget" style="display: none;">
            <li class="beat"></li>
            <li class="beat"></li>
            <li class="beat"></li>
            <li class="beat"></li>
          </ul>
          <div id='digitalDisplayContainer'>
            <h3 id="beatFlag">1</h3><h3 id="beatNbr">/4</h3>
          </div>

     <div style="float: left">   
       <span id="tempo-disp" style="font-size:40px;">60</span>  bpm
     </div> 
      
          <button class="main-btn" id="start">
    <i class="ri-play-fill" style="font-size: 44px; color: white;"></i>
          </button>
      <button class="main-btn" id="stop">
               <i class="ri-pause-fill" style="font-size: 44px; color: white;"></i>
             </button>
      
      
      <div class="input-section" style="opacity: 1">
    <input type="range" min="0" max="200" value="60" class="tempoSlider" step="1" oninput="temp(this.value)" id="tempo">
    <div class="thin-fill"></div>
    <div class="thick-fill"></div>
  </div>   
  </div>            
              
     <iframe id="drive" src="" frameborder="0"></iframe>     
                <a 
          href="#" 
          class="close-modal" onclick="closemodal()" 
        >
          <!-- X close video icon -->
          <svg 
            version="1.1" 
            xmlns="http://www.w3.org/2000/svg" 
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0"
            y="0"
            viewBox="0 0 32 32" 
            style="enable-background:new 0 0 32 32;" 
            xml:space="preserve" 
            width="24" 
            height="24" 
          >
                <path fill="#ffffff" d="M30.3448276,31.4576271 C29.9059965,31.4572473 29.4852797,31.2855701 29.1751724,30.980339 L0.485517241,2.77694915 C-0.122171278,2.13584324 -0.104240278,1.13679247 0.52607603,0.517159487 C1.15639234,-0.102473494 2.17266813,-0.120100579 2.82482759,0.477288136 L31.5144828,28.680678 C31.9872448,29.1460053 32.1285698,29.8453523 31.8726333,30.4529866 C31.6166968,31.0606209 31.0138299,31.4570487 30.3448276,31.4576271 Z" id="Shape"></path>
                <path fill="#ffffff" d="M1.65517241,31.4576271 C0.986170142,31.4570487 0.383303157,31.0606209 0.127366673,30.4529866 C-0.12856981,29.8453523 0.0127551942,29.1460053 0.485517241,28.680678 L29.1751724,0.477288136 C29.8273319,-0.120100579 30.8436077,-0.102473494 31.473924,0.517159487 C32.1042403,1.13679247 32.1221713,2.13584324 31.5144828,2.77694915 L2.82482759,30.980339 C2.51472031,31.2855701 2.09400353,31.4572473 1.65517241,31.4576271 Z" id="Shape"></path>
          </svg> 
        </a>
              
     <ul class="menu-bar" id="menu-bar1">
            <li><a href="#" id="back-menu-bar"  onclick="closemodal()">Salir</a></li> 
           <li><a href="#" id="toggle-recorder">Grabar</a></li> 
        </ul> 
       <ul class="menu-bar2" id="menu-bar2" style="visibility: hidden;">
            <li><a href="#" id="delete-audio">Eliminar</a></li>
           <li><a href="#" ng-click="uploadAudio()">Enviar</a></li> 
        </ul>           
            
            </div> 
        </div>
    </div>
  
  
  
  <div id="questionaire" class="modal-container">
        <div class="modal-background">
            <div style="margin-top: -100px;">

<div class="quiz">
  <article id="quiz" class="quiz-intro">
    <div id="quiz-bg">
      <i class="material-icons" id="quizIco">quiz</i>
      <span style="position: absolute; margin-top: 70px; margin-left: 40px; color: white" id="questionTotal">10 preguntas</span>
    </div>
    <section id="quiz-body"> 
      <h4>Quiz</h4>      
      <h1>Resumen de lección</h1> 
      <div class="buttons-container">
        <button type="button" class="btn blue-btn rounded-corners" onclick="closeQuiz()">Cerrar</button>
        <button type="button" id="start-quiz-btn" class="btn blue-btn rounded-corners">Iniciar</button>
      </div>
    </section>
  </article>

  <!-- Contenido del quiz (oculto inicialmente) -->
  <article id="quiz-content" class="quiz-started" style="display: none;">
    <div id="progress-container"><span id="progress"></span></div>
    <div id="stats">
      <p>Pregunta: <span id="questionNumber"></span></p> 
      <p>Puntaje: <span id="score"></span></p>
      <p>Tiempo: <span id="timer"></span></p>
    </div>
    <section id="answers"></section>
  </article>  

  <!-- Resultados del quiz (ocultos inicialmente) -->
  <section id="results" class="text-center" style="display: none;">  
    <h2 class="bold">Estos son tus resultados:</h2>
    <p id="percentage"></p>
    <p>Obtuviste <span class="bold" id="correctAnswers"></span> de <span class="bold" id="totalQuestions"></span> preguntas correctas.</p>
    <p style="margin-top: 10px;">Tiempo empleado: <span class="bold" id="finalTime"></span></p>
    <div class="buttons-container">
      <button type="button" id="close-results-btn" class="btn blue-btn">Cerrar</button>
      <button type="button" id="start-over-btn" class="btn blue-btn">De nuevo</button> 
    </div>
  </section>
</div>

</div>
</div>
</div>

</body>



<script>
  $(document).ready(function() {
  $('ul.tabs').tabs();
    
    $('ul.tabs li a').on('click', function() {
    $('html, body').animate({
      scrollTop: 0
    }, 500); 
  });
});

 


  //Angular Materialize

  //Angular Materialize
var app = angular.module('materializeApp', ['ui.materialize']);
app.factory('SharedState', function($http, $q) {
  var requestData = {
    action: "getBasicData",
    token: localStorage.getItem('MStoken')
  };

  var config = {
    headers: {
      "Content-Type": "text/plain;charset=utf-8"
    }
  };

  var getNum = function() {
    var deferred = $q.defer();

    $http.post('https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec', requestData, config)
      .then(function(response) {
        deferred.resolve({
          lvl: response.data.lvl,
          lsn: response.data.lsn,
          progress: response.data.progress,
          lssons: response.data.lessons,
          status: response.data.status,
          history: response.data.history,
          counterLvl: response.data.counterLvl
        });
      }, function(error) {
        deferred.reject(error);
      });

    return deferred.promise;
  };

  return {
    getNum: getNum
  };
});
 
  app
    .controller('pdfHandler', ["$scope", "SharedState", function($scope, SharedState){
     $scope.uploadAudio = function() { 
     
      SharedState.getNum().then(function(data) {
        var index = document.getElementById("AudioData").getAttribute('current-index')
      $scope.currentlsns = filterCurrent(data.lssons, data.lsn);
        alert($scope.currentlsns[index].status)
  })
   }
    
     function filterCurrent(obj, lsn) {
    return obj.filter(function(entry) {
        return entry.index == lsn;
    });
}
    
  }])
  .controller('lvlMenu', ["$scope", "SharedState", function($scope, SharedState){ 
      SharedState.getNum().then(function(data) {
        $scope.lvl = data.lvl;
      $scope.progress = data.progress;
     $scope.status = data.status;
      $scope.counter = data.counterLvl[0]
        
        if(data.lvl == 1){
          $('ul.tabs').tabs('select_tab', 'test2');
        }else if(data.lvl == 2){
          $('ul.tabs').tabs('select_tab', 'test3');
        }else if(data.lvl == 3){
          $('ul.tabs').tabs('select_tab', 'test4');
        }
        
  })

    
  }])
.controller('levelP', ["$scope", "SharedState", function($scope, SharedState) {
    $scope.loading = true;
  
  
    SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[0]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
      $scope.loading = false;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
  
  

    $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [{
              name: 'Lección 1: Posición de Do',
              id: 1,
              material:[
                {
                title: 'Ritmo y métrica',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/qh-4OyTcuJw'
                  },{
                  title: 'Intervalos de 4ta y 5ta',
                  icon: 'quiz',
                  type: 'Block Test',
                  media: 'quiz',
                  package: 2
                  },{
                  title: 'Intervalos de 2da y 3era',
                  icon: 'bolt',
                  type: 'Quick Test',
                  media: 'quiz',
                  package: 1
                  }
                ]
              },
              {
                title: 'Posición de Do',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/3wn33KNLy5M'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1WqVnSwujAS7Rps02XNfqueu7PtiNVG7D/preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1s5bZw8XCq5cHPcDgOniZSqwpmc6xcKYG/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Ode to Joy - var 2',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/bVWXlV8Neic'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1frOQ8O1QNfFf8GUKFYH2-lEYvWhSG6RS/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Grand Staff',
              id: 2,
              material:[
              {
                title: 'El Pentagrama y el Grand Staff',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/HHF95sBbmwQ'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1HKC6x6ca-whFRxlYAUKOQo7M-dpR8dtY/preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  index: 0,
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Ys_fybQsMIjS4zaCRLO9lV8qsvmvooXq/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Ode to Joy - var 3',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/ec4ZRGMYgrY'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  index: 1,
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/15amNYqOJwINhWNjw8I77uRWZ-6sh15-e/preview'
                  }
                ]
              }
            ]
          },

          {
              name: 'Lección 3: Intervalos',
              id: 3,
              material:[{
                title: 'Intervalos de 2da y 3era',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/H4x0TPlSoaQ'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Wu2qa7B3hyVoOHkPWdVcDHklBgn5nk0T/preview'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                    index: 0,
                  url: 'https://drive.google.com/file/d/1Dom_0ZjNoslBKZpUa3IUDN8XMzcxZ1Jd/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Mountain Climbing',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/XfUF1yv0Ook'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                    index: 1,
                  url: 'https://drive.google.com/file/d/1jo4LcVuPV-Q0eytfVFyDdCPqbTDX1aU9/preview'
                  }
                ] 
              }
            ]
          },

          {
              name: 'Lección 4: Intervalos (2da parte)',
              id: 4,
              material:[{
                title: 'Intervalos de 4ta y 5ta',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/M6DCHr2wVh8'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/178foCLFrPUNg1Tr536m0oBNLU3JY87JY/preview'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1G3Cun9yL_xl8ZJUhDJE5CAYTXMQUCIZY/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Jingle Bells',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/JCogx6-fQ0Q'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/19_81QSEylsakl04ZEnFXHKTDThcnI3MC/preview'
                  }
                ]
              }
            ]
          }

        ]
      },


//BLOQUE 2
     {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 5: Frases',
              id: 5,
              material:[{
                title: 'Construcción de frases',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/RJnwVQHexW0'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1V15F3hT0JQYYBP90XIMT2lHogik6s2Kj/preview'
                  },

                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1gum-qE-LUdxxRNmjh39A1xImbqYRABAX/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Run Away River',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/kl_V1GltXDc'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1pHinigt3CUDZeBMYowtaHHP_yGjRigWo/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 6: Acordes',
              id: 6,
              material:[{
                title: 'Construcción de acordes',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/Y2MokfVUSqs'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1zhyiUNAagb5l-Z8pkWSrDt5EOtUGCf0h/preview'
                  }
                ]
              },
              {
                title: 'Acorde C y G7',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/n7qaCP5a-Pc'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/14g5yaRgRo66fJtigaCVpN7zcZ6AusP05/preview'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1UtQsQYtjkYxqbVnCGfTmNa85xtnhG3W7/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Trumpet Voluntary',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/k7ZlQezPHPk'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1-b7JbEAe5M5j_3KoSOCIs8Ss5uzez2Rw/preview'
                  }
                ]
              }
            ]
          },
              {
              name: 'Lección 7: Corcheas y Staccato',
              id: 7,
              material:[{
                title: 'Definición',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Corcheas',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/LJIBynkI1Cs'
                  },
                   {
                  icon: 'smart_display',
                  type: 'Staccato',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/5zX6CFXf6cQ'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1rEgkVVzKMuvyvXJATJ9mUdkm_oWy5lQW/preview'
                  }
                 
                ]
              },
              {
                title: 'Ejercicios',
                icon: 'library_books',
                activity:[
                 /*{
                  icon: 'smart_display',
                  type: 'Explicación adicional',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1DquyL0GuDR3zojHcmzBLPZaA598DMLbu/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Old German Dance',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/2R4VsyAvL60'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1ZR5HKyTC22IR0kr8hFLLZl2eX9I6KJPO/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 8: Ejercicios de coordinación',
              id: 8,
              material:[{
                title: 'Transposición',
                icon: 'library_books',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1i7yEW2-HS26JozRu_YWd0pm-mneAgk5V/preview'
                  }
                 
                ]
              },
              {
                title: 'Pieza: Allegretto',
                icon: 'audio_file',
                activity:[/*{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/15bxfUEOjjddNaqp7ztMJPxSX10dYOiWw/preview'
                  }
                ]
              }
            ]
          }

        ]
      },

//BLOQUE 3
       {
          block: "Bloque 3",
          lessons: [
            {
              name: 'Lección 9: Posición de Do II',
              id: 9,
              material:[{
                title: 'Posición de Do II',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/KopYT505jHA'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1uuu7dX6SRoOIi1aqzTEJ1xj8CbfW6Uft/preview'
                  }
                ]
              },
              {
                title: 'Marcas de Tempo y Dinámicas',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/fOHFGsq-cGw'
                  },
                          {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1cyGlwmsc3PMV3ECaA6J57LMw7f-Oxw6C/preview'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1lLMYCMDiL40krhqNKmG6rRtg3elF_ZKE/preview'
                  }                   
                ]
              },
              {
                title: 'Pieza: Little Playmates',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/FivvBFEW1a0'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/16DBduII3mLFYdSytK-0DA0kg8jWA_KtO/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 10: Escala de Do Mayor',
              id: 10,
              material:[{
                title: 'Definición y ejercicios',
                icon: 'library_books',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1VhR-5CT2GwbonlTQW12gwiVo1_bp2h4d/preview'
                  }
                ]
              },

              {
                title: 'Pieza: Fish Scales',
                icon: 'audio_file',
                activity:[/*{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Iw8_UXSYqCTWT0c4ORTZst1ak3PCtfCs/preview'
                  }
                ]
              }
            ]
          },

           {
              name: 'Lección 11: Posición de Sol',
              id: 11,
              material:[{
                title: 'Definición y ejercicios',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/jGM_qOcewYg'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1qf6vWHGkllTXZ4OYmQNGy2_Bjrqvs_Jr/preview'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1CfqcsxDsyCwxo8ZhhOrejiiJcgyEzxCE/preview'
                  }
                 
                ]
              },
              {
                title: 'Pieza: Bagpipe',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/il7CTAteqhE'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/16hYD36HcMS-WRqzR9pBvSLHCxifOTkWc/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 12: Ligadura de prolongación',
              id: 12,
              material:[{
                title: 'Definición y ejercicios',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/edjG-czdX2Y'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/16dc7Bkc7KtoP95hA1Tcni_i4M7eDfNLf/preview'
                  }                 
                ]
              },
              {
                title: 'Pieza: Sonatina',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/09dONQwMtv8'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/14f3fDZf4Fj13zYgXwNSDPIerGGIG_GtS/preview'
                  }
                ]
              }
            ]
          }

        ]
      }     
]
  
  }])

.controller('level1', ["$scope", "SharedState", function($scope, SharedState) {
     SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[1]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
   $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [
            {
              name: 'Lección 1: Posición de Sol (2da parte)',
              id: 1,
              material:[{
                title: 'Solfeo I',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/sn9AnIwXWNw'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1rnUC_AB2buvh-BLf16L6SOte4ct2y4bx/preview'
                  }
                ]
              },
              {
                title: 'Posición de Sol (parte 2)',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/gtkAYv5wBoA'
                  },{
                  icon: 'description',
                  type: 'Ejercicio',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1DRf5RdEG7C7KAVxv4wy593dfN8Cbeqat/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Minuet, Gurlitt',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/ZHuYXBK1IM4'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1-Gh5AJBcEaO1eVJ-SeV6-kTmlaPK5muP/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Posición combinada',
              id: 2,
              material:[
              {
                title: 'Solfeo II',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/-G5yINx85k0'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1upeZQGqvk9PFCBiyIVeONZK0E0P5f01l/preview'
                  }
                ]
              },
              {
                title: 'Posición combinada',
                icon: 'library_books',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicio',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1zU6zcWwIxgzR4iy0yL8N651kcarf2X9u/preview'
                  },{
                  icon: 'description',
                  type: 'Marcha',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1gPwPtcEmfF-zBLaQLJBKwQOWYJTX_6cf/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Minuet, Reinagle',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/Riv3gEBBG9I'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1_v-xICqupk8KUO32-PwZKURNhRtXRjh6/preview'
                  }
                ]
              }
            ] 
          },

          {
              name: 'Lección 3: Alteraciones',
              id: 3,
              material:[{
                title: 'Solfeo III',
                icon: 'music_note',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                    code: 's',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/10LdRbiKINHgPs3QgcZf_9Ts2WsCzvw3p/preview'
                  }
                ]
              },
              {
                title: 'Alteraciones',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'El sostenido',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/0tyWeauOFzQ'
                  },{
                  icon: 'auto_stories',
                  type: 'Ejercicio',
                    code: 'lA',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1azmdnqr2BWqj3NiWWCg-Fl0-DBcDA6II/preview'
                  }
                ]
              },
              {
                title: 'La armadura',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/6iR3f8m8COM'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1kr9ChyBTuFpBXg_obh62-AG3q_MRfb5q/preview'
                  },{
                  icon: 'description',
                  type: 'Marcha II',
                    code: 'lB',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1gPwPtcEmfF-zBLaQLJBKwQOWYJTX_6cf/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Promenade',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/aOFeOBDlWDA'
                  },{
                  icon: 'description',
                  type: 'Partitura', 
                    code: 'p',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/140Aklx2WntuhqRCxChRcpKDs06soKJfA/preview'
                  }
                ]
              }
             
            ]
          },

         

        ] 
      },
   
   //BLOQUE 2
    {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 4: Cambio de posición',
              id: 4,
              material:[{
                title: 'Solfeo IV',
                icon: 'music_note',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1nbWUe2RCjSORXae8hCxr5U-bqy9PuOtc/preview'
                  }
                ]
              },
              {
                title: 'Definición',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/oBRoDA-GkBQ'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1K_lWzEDpurCRuhJiYdCZ1rPliCSURyFe/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Dance',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/CcQlCKt1MgM'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1HT2Ih91glXfWEC0A6uM4KSXZc_whfsku/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 5: Intervalos de 6ta',
              id: 5,
              material:[
              {
                title: 'Solfeo V',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1aqzF5rbWmzVnnOlqOjsjwLmzZGU1VpUY/preview'
                  }
                ]
              },
              {
                title: 'Intervalos de 6ta',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/SEAdyQ0Zw3M'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/18uL7_4_fhiE1n8zYyLrW_xZhCsSpYzTE/preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1N8HAVRAWFxKlmniv5Bd0jIGPl9GmD38k/preview'
                  }
                ]
              },
              {
                title: 'DC al Fine',
                icon: 'library_books',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1G8EbF6t3wgrdSgpZVAmTv6OFhI31m8XW/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Sonatina, Gurlitt',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/n-CJ6AP83zs'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1F7mj27XUDWz6-8R6adN6f6vLUnJAEOio/preview'
                  }
                ]
              }
            ]
          },

          {
              name: 'Lección 6: Posición de Fa',
              id: 6,
              material:[{
                title: 'Solfeo VI',
                icon: 'music_note',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/144ZOFA87KNajpViMk4T53YnSzMhWGZQy/preview'
                  }
                ]
              },
              {
                title: 'El bemol',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Bemol',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/aLNz-5bsWb8'
                  },
                  {
                  icon: 'auto_stories',
                  type: 'El Bemol',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1_UXn8vUzyImBDGlY_Q9RFZOT703Nfngq/preview'
                  }
                ]
              },
              {
                title: 'Posición de Fa',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/c1WwjyH2h3A'
                  },/*{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  },*/
                  {
                  icon: 'description',
                  type: 'Marcha en Fa',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1pf-AuPRZDOYyu5Bjk10Gqf0KH4G2y7i8/preview'
                  }
                ]
              },
              {
                title: 'Pieza: The Old Windmill',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/P64xNcu4v-w'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Yf667gGJI9QBfA0xMqvAiiyKUhF-HvaZ/preview'
                  }
                ]
              }
            ]
          }
        ]
      },

   //BLOQUE 3

{
          block: "Bloque 3",
          lessons: [
            {
              name: 'Lección 7: Escalas de C, G y F',
              id: 7,
              material:[
              {
                title: 'Escalas C, G y F',
                icon: 'library_books',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1unPI5MyC-yxZCXlaUDM375iHb9DbaOyN/preview'
                  }
                ]
              },
              {
                title: 'Pieza: First Etude',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/2OEzXuEbsA0'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1V1Ofj99nBsVR99fJ8m2oWcuTDx33sJtz/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 8: Más Notación Musical',
              id: 8,
              material:[
              {
                title: '8va y Natural',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/blGuL_tXviE'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1ZKfYtbA2LJmQOvZLpqJrfaZiLwyqKq7I/preview'
                  }
                ]
              },
              /*{
                id: 52,
                title: 'Cambio de clave, RH LH y Fermatta',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },*/
              {
                title: 'Pieza: Jinx',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/Z9QbuWRh7Bc'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1VjDu6n4rO1HkIGWnnfh_0D7VRC9KWUW0/preview'
                  }
                ]
              }
            ]
          },

          {
              name: 'Lección 9: Síncopas',
              id: 9,
              material:[{
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/drI00sPPRks'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Go9CgkCirvErqeLn8QC1lF2tK69eZdSx/preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/14Aji9kUWssBCcBKU_zSCRkuK3sBwEVf7/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Minuet and Trío',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/jdCm8wj-h0w'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1W41ayDydPUrKU57OMHEfMl1BuzNYkk01/preview'
                  }
                ]
              }
            ]
          },

        ]
      },
   
   
   
 {
          block: "Pieza Final",
          lessons: [
            {
              name: 'Elección de Pieza Final',
              id: 10,
              material:[{
                title: 'Lista A',
                icon: 'library_music',
                activity:[{
                  icon: 'video_library',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/playlist?list=PLFLLmJ16LJSyilSL5i2UoEEiHaioZTVaW'
                  }
                ]
                },{
                title: 'Lista B',
                icon: 'library_music',
                activity:[{
                  icon: 'video_library',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/playlist?list=PLFLLmJ16LJSy1cuiGt1xCqne4nQasdXMw'
                  }
                ]
                },
              ]
          }
        ]

  }
   
   ]
    
}])


 
.controller('level2', ["$scope", "SharedState", function($scope, SharedState) {
    SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[2]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
   $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [
            {
              name: 'Lección 1: Cambio de Posición II',
              id: 1,
              material:[{
                title: 'Solfeo VII',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/V_qtDfHCdZw'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1jztdXACdUwHJZMOcsHjY4xLjsRiM7KLS/preview'
                  }
                ]
              },
              {
                title: 'Cambio de posición II',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Definición',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/WvgG1n8njqw'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1LCg9EBt1tBT4UUmH48xC_XTu64fPBKhu/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Allemande',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/BS1YWNFT98o'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1ArvTOodKca-OExVvFaQnMYw3aj71mizc/preview'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Contrapunto',
              id: 2,
              material:[
              {
                title: 'Solfeo VIII',
                icon: 'music_note',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1pzrUzz5p6mDfLPsaguhiNCJ_9hIf0M5D/preview'
                  }
                ]
              },
              {
                title: 'Definición',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/SWEK7J_8_Mw'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/14SKHXbiMeQ4AYWk9QtF3wIp3E0qPdPEa/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Andante, Beyer',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/fLfVLRUuH_0'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1_HyfX-I55m7Rhwas2sOvY1SwGRCST4JH/preview'
                  }
                ]
              }
            ] 
          },

          {
              name: 'Lección 3: Intervalos de 7ma y 8va',
              id: 3,
              material:[{
                title: 'Solfeo IX',
                icon: 'music_note',
                activity:[/*{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },*/{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1IICpRij9qfT1LC3SOgy2-hNhU3qducu3/preview'
                  }
                ]
              },
              {
                title: 'Intervalos de 8va y 7ma',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/cOFpHDlol2Y'
                  },{
                  icon: 'description',
                  type: 'Intervalos de 7ma y 8va',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1Al9fBtgZOAlyB4aGGAGwajwrWggzJ6qy/preview'
                  }
                ]
              },
              {
                title: 'Pieza: Minuet, Leopold Mozart',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/OLtap24RWpg'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d/1wEngXDEnzxCH-nUdvqpyP9TJl2LT7Z0X/preview'
                  }
                ]
              }
             
            ]
          },

         

        ]
      },


//BLOQUE 2
       {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 4: Grados de escalas',
              id: 4,
              material:[{
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: Aria in F',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },
           {
              name: 'Lección 5: Triadas',
              id: 5,
              material:[
              {
                title: 'Construcción de triadas',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Triadas mayores y menores',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: Waltz, Kabalevsky',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },
            {
              name: 'Lección 6: Inversión de triadas',
              id: 6,
              material:[
              {
                title: 'Escalas',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Grupo 1',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  },{
                  icon: 'description',
                  type: 'Grupo 2',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: Waltz, Kabalevsky',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },
         

        ]
      },


//BLOQUE 3
    {
          block: "Bloque 3",
          lessons: [
             {
              name: 'Lección 7: Arpegios',
              id: 7,
              material:[{
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  },{
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: Melody, Kohler',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },
            {
              name: 'Lección 8: Tresillos',
              id: 8,
              material:[
              {
                title: 'Tresillos',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: ',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },
            {
              name: 'Lección 9: Métricas compuestas',
              id: 9,
              material:[
              {
                title: 'Definición',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },
                  {
                  icon: 'description',
                  type: 'Ejercicios',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              },
              {
                title: 'Pieza: Melody, Le Couppey',
                icon: 'audio_file',
                activity:[{
                  icon: 'piano',
                  type: 'Ejemplo',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'description',
                  type: 'Partitura',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
              }
            ]
          },

        ]
      },


 {
          block: "Pieza Final",
          lessons: [
            {
              name: 'Elección de Pieza Final',
              id: 10,
              material:[{
                title: 'Lista A',
                icon: 'library_music',
                activity:[{
                  icon: 'video_library',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/playlist?list=PLFLLmJ16LJSyilSL5i2UoEEiHaioZTVaW'
                  }
                ]
                },{
                title: 'Lista B',
                icon: 'library_music',
                activity:[{
                  icon: 'video_library',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/playlist?list=PLFLLmJ16LJSy1cuiGt1xCqne4nQasdXMw'
                  }
                ]
                },
              ]
          }
        ]

  }
     
      
]

    
}])



.controller('level3', ["$scope", "SharedState", function($scope, SharedState) {
      SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[3]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
    $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [
            {
              name: 'Lección 1: Semicorcheas',
              material:[{
                id: 200,
                title: 'Solfeo I',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Organización melódica',
              material:[
              {
                id: 200,
                title: 'Solfeo II',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ] 
          },

          {
              name: 'Lección 3: Contrapunto II',
              material:[{
                id: 200,
                title: 'Solfeo III',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
             
            ]
          } 

        ]
      },


//BLOQUE 2
    {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 4: Intervalos',
              material:[{
                id: 200,
                title: 'Solfeo IV',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 5: Triadas fundamentales',
              material:[
              {
                id: 200,
                title: 'Solfeo V',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              } 
            ]
          },

          {
              name: 'Lección 6: Inversión de Triadas',
              material:[{
                id: 200,
                title: 'Solfeo VI',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },

         

        ]
      },

//BLOQUE 3
      {
          block: "Bloque 3",
          lessons: [
            {
              name: 'Lección 7: Circulo de Quintas',
              material:[
              {
                id: 200,
                title: 'Escalas C, G y F',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },
          {
              name: 'Lección 8: Progresión de acordes',
              material:[
              {
                id: 200,
                title: '8va y Natural',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            
             
            ]
          },
          {
              name: 'Lección 9: Grupo 1 (C, G, F)',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          }

        ]
      },

//Pieza Final
    

 {
          block: "Pieza Final",
          lessons: [
            {
              name: 'Elección de Pieza Final',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
                },
              ]
          }
        ]

  }



]
     
}])




.controller('level4', ["$scope", "SharedState", function($scope, SharedState) {
      SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[4]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
    $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [
            {
              name: 'Lección 1: Acordes de Séptima',
              material:[{
                id: 200,
                title: 'Solfeo I',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Inversión de Séptimas',
              material:[
              {
                id: 200,
                title: 'Solfeo II',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ] 
          },

          {
              name: 'Lección 3: Cadencias',
              material:[{
                id: 200,
                title: 'Solfeo III',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
             
            ]
          } 

        ]
      },


//BLOQUE 2
    {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 4: Acompañamiento y Pedal',
              material:[{
                id: 200,
                title: 'Solfeo IV',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 5: Ornamentos',  //Mordente, trinos, apoyaturas
              material:[
              {
                id: 200,
                title: 'Solfeo V',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              } 
            ]
          },

          {
              name: 'Lección 6: Figuras Rítmicas',
              material:[{
                id: 200,
                title: 'Solfeo VI',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },

         

        ]
      },

//BLOQUE 3
      {
          block: "Bloque 3",
          lessons: [
            {
              name: 'Lección 7: Escalas modales',
              material:[
              {
                id: 200,
                title: 'Escalas C, G y F',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },
          {
              name: 'Lección 8: Escalas menores',
              material:[
              {
                id: 200,
                title: '8va y Natural',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            
             
            ]
          },
          {
              name: 'Lección 9: Grupo 2 (D, A, E)',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          }

        ]
      },

//Pieza Final
    

 {
          block: "Pieza Final",
          lessons: [
            {
              name: 'Elección de Pieza Final',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
                },
              ]
          }
        ]

  }



]
     
}])


.controller('level5', ["$scope", "SharedState", function($scope, SharedState) {
      SharedState.getNum().then(function(data) {
    $scope.lsn = data.lsn;
      $scope.lvl = data.lvl;
      $scope.progress = data.progress;
      $scope.counter = data.counterLvl[1]
      $scope.status = data.status;
      $scope.currentlsns = filterCurrent(data.lssons);
       $scope.history = data.history;
  })


  function filterCurrent(obj) {
    return obj.filter(function(entry) {
        return entry.index == $scope.lsn;
    });
}
  
  $scope.convertirFecha = function(fecha) {
  const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
  const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];

  const [dia, mes, año] = fecha.split('/').map(Number);
  const date = new Date(año, mes - 1, dia);
  const nombreDia = dias[date.getDay()];
  const nombreMes = meses[date.getMonth()];
  return `${nombreDia} ${dia} de ${nombreMes}`;
}
    $scope.allData = [
     {
          block: "Bloque 1",
          lessons: [
            {
              name: 'Lección 1: Progresión de Acordes II',
              material:[{
                id: 200,
                title: 'Solfeo I',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 2: Cadencias II',
              material:[
              {
                id: 200,
                title: 'Solfeo II',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ] 
          },

          {
              name: 'Lección 3: Lectura a Primer Vista',
              material:[{
                id: 200,
                title: 'Solfeo III',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
             
            ]
          } 

        ]
      },


//BLOQUE 2
    {
          block: "Bloque 2",
          lessons: [
            {
              name: 'Lección 4: Triadas Aug y Dim',
              material:[{
                id: 200,
                title: 'Solfeo IV',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          },
          {
              name: 'Lección 5: Modulaciones',  //Mordente, trinos, apoyaturas
              material:[
              {
                id: 200,
                title: 'Solfeo V',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              } 
            ]
          },

          {
              name: 'Lección 6: Sustituciones',
              material:[{
                id: 200,
                title: 'Solfeo VI',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Descripción',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },

         

        ]
      },

//BLOQUE 3
      {
          block: "Bloque 3",
          lessons: [
            {
              name: 'Lección 7: Sus2 y Sus4',
              material:[
              {
                id: 200,
                title: 'Escalas C, G y F',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
              
            ]
          },
          {
              name: 'Lección 8: Grupo 3 (Bb, Eb, Ab)',
              material:[
              {
                id: 200,
                title: '8va y Natural',
                icon: 'library_books',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            
             
            ]
          },
          {
              name: 'Lección 9: Grupo 4 (Db, Gb, B)',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  }
                ]
              }
            ]
          }

        ]
      },

//Pieza Final
    

 {
          block: "Pieza Final",
          lessons: [
            {
              name: 'Elección de Pieza Final',
              material:[{
                id: 200,
                title: 'Definición',
                icon: 'music_note',
                activity:[{
                  icon: 'smart_display',
                  type: 'Lección',
                  media: 'video',
                  url: 'https://www.youtube.com/embed/'
                  },{
                  icon: 'auto_stories',
                  type: 'Teoría',
                  media: 'pdf',
                  url: 'https://drive.google.com/file/d//preview'
                  }
                ]
                },
              ]
          }
        ]

  }



]
     
}])












function toggle_video_modal(element) {
     var url = element.getAttribute('data-youtube-id');
          $("#youtube").attr('src', url);        
          $("body").addClass("show-video-modal noscroll");   
}

      // Close and Reset the Video Modal
      function close_video_modal() {
        
        event.preventDefault();
        $("body").removeClass("show-video-modal noscroll");
        $("#youtube").attr('src', '');
        
      }
      $('body').on('click', '.close-video-modal, .video-modal .overlay', function(event) {
          close_video_modal();
      });
 


function showModal(element) {
     var url = element.getAttribute('data-pdf-id');
  var currentlvl = element.getAttribute('current-lvl');
     var thislvl = element.getAttribute('this-lvl');
     var currentlsn = element.getAttribute('current-lsn');
  var currentIndex = element.getAttribute('current-index'); 
     var lsnid = element.getAttribute('lsn-id');
   var currentStatus = element.getAttribute('current-status'); 
  
          $("#drive").attr('src', url);    
    $("#AudioData").attr('current-index', currentIndex); 
        document.getElementById('modalPDF').classList.add('four');
  
  if(currentlsn === lsnid && currentlvl === thislvl && (currentStatus == 'A corrección' || currentStatus == 'Límite de entrega: ')){
  $(".metronome").css('display', 'block'); 
  $("#menu-bar1").css('display', 'flex'); 

  if (!/Android|webOS|iPhone|iPad|IEMobile|Opera Mini/i.test(navigator.userAgent)) { 
   if (document.documentElement.requestFullscreen) {
        document.documentElement.requestFullscreen();
    } else if (document.documentElement.mozRequestFullScreen) { // Firefox
        document.documentElement.mozRequestFullScreen();
    } else if (document.documentElement.webkitRequestFullscreen) { // Chrome, Safari y Opera
        document.documentElement.webkitRequestFullscreen();
    }
  } 

}else{
   $(".metronome").css('display', 'none'); 
  $("#menu-bar1").css('display', 'none'); 
}
    
  
}
 
      function closemodal() {
        event.preventDefault();
       const modal = document.getElementById('modalPDF');
        modal.classList.add('out');
        setTimeout(() => {
            modal.classList.remove('four', 'out');
        }, 300);
        $("#drive").attr('src', '');
         if (!/Android|webOS|iPhone|iPad|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
   if (document.fullscreenElement) {
    document.exitFullscreen()
    }
  }
        
      }

</script>

<script>
  
function showQuiz(element){
  var thislvl = element.getAttribute('this-lvl');
  var title= element.getAttribute('quiz-title');
     var subtitle = element.getAttribute('quiz-subtitle');  
  var icon = element.getAttribute('quiz-icon');  
  var datapackage = element.getAttribute('data-package'); 
  startQuiz(thislvl, title, subtitle, datapackage, icon)
  document.getElementById('questionaire').classList.add('four');  
}

      function closeQuiz() {
       const modal = document.getElementById('questionaire');
        modal.classList.add('out');
        setTimeout(() => {
            modal.classList.remove('four', 'out');
        }, 300); 
      }




function startQuiz(lvl, title, subtitle, datapackage, icon) {
  "use strict";
  let questions = [];
  
  if(datapackage == 1){
   questions = [
    {
      question: "What is Earth's largest continent?",
      img: "https://lh3.googleusercontent.com/d/1EP2I0BOMo_8mXsR9qqAv08PxjztZFaQ8",
      answers: ["Asia", "Africa", "Antarctica", "Europe"],
      correctAnswer: 1
    },
    {
      question: "Which of these countries is NOT part of the European Union?",
      img: "",
      answers: ["Spain", "Germany", "Russia", "Italy"],
      correctAnswer: 3
    },
    {
      question: "What is the capital of Romania?",
       img: "",
      answers: ["Kiev", "Bucharest", "Budapest", "Chisinau"],
      correctAnswer: 2
    }
  ];
 }
  var questionNumber = document.getElementById('questionTotal');
questionNumber.innerText = questions.length + " preguntas"
  
    var quizBG = document.getElementById('quiz-bg');
  
  var closeButton = document.querySelector('.buttons-container .blue-btn:first-child');
var startButton = document.getElementById('start-quiz-btn');
  
  if (lvl == 0) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #c52c20, #ff7961)';
  quizBG.style.background = '-o-linear-gradient(45deg, #c52c20, #ff7961)';
  quizBG.style.background = 'linear-gradient(45deg, #c52c20, #ff7961)';
    closeButton.style.backgroundColor = '#c52c20';  
  startButton.style.backgroundColor = '#c52c20';
} else if (lvl == 1) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #9024dc, #b57ff5)';
  quizBG.style.background = '-o-linear-gradient(45deg, #9024dc, #b57ff5)';
  quizBG.style.background = 'linear-gradient(45deg, #9024dc, #b57ff5)';
   closeButton.style.backgroundColor = '#9024dc';  
  startButton.style.backgroundColor = '#9024dc';
} else if (lvl == 2) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #1894cc, #63c9ff)';
  quizBG.style.background = '-o-linear-gradient(45deg, #1894cc, #63c9ff)';
  quizBG.style.background = 'linear-gradient(45deg, #1894cc, #63c9ff)';
   closeButton.style.backgroundColor = '#1894cc';  
  startButton.style.backgroundColor = '#1894cc';
} else if (lvl == 3) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #489454, #7fd583)';
  quizBG.style.background = '-o-linear-gradient(45deg, #489454, #7fd583)';
  quizBG.style.background = 'linear-gradient(45deg, #489454, #7fd583)';
   closeButton.style.backgroundColor = '#489454';  
  startButton.style.backgroundColor = '#489454';
} else if (lvl == 4) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #f0ac14, #f7d253)';
  quizBG.style.background = '-o-linear-gradient(45deg, #f0ac14, #f7d253)';
  quizBG.style.background = 'linear-gradient(45deg, #f0ac14, #f7d253)';
   closeButton.style.backgroundColor = '#f0ac14';  
  startButton.style.backgroundColor = '#f0ac14';
} else if (lvl == 5) {
  quizBG.style.background = '-webkit-linear-gradient(45deg, #485cb4, #8091e8)';
  quizBG.style.background = '-o-linear-gradient(45deg, #485cb4, #8091e8)';
  quizBG.style.background = 'linear-gradient(45deg, #485cb4, #8091e8)';
   closeButton.style.backgroundColor = '#485cb4';  
  startButton.style.backgroundColor = '#485cb4';
}
  
  let questionIndex, currentQuestion, score, timeSpent, quizTimer, questionIsAnswered;
  
  // Configurar la introducción del quiz
  const quizIco = document.getElementById('quizIco');
  quizIco.innerText = icon;
  
  const quizBody = document.getElementById('quiz-body');
  quizBody.getElementsByTagName('h4')[0].innerText = title;
  quizBody.getElementsByTagName('h1')[0].innerText = subtitle;
  
  let quizIntro = document.querySelector(".quiz-intro");
  let quizContent = document.getElementById("quiz-content");
  let resultsSection = document.getElementById("results");

  // Función para inicializar el quiz
  function initQuiz() {
     resultsSection.style.display = "none";
    quizIntro.style.display = "none"; // Esconde la introducción
    quizContent.style.display = "block"; // Muestra el contenido del quiz
    
    questionIndex = 0;
    currentQuestion = 1;
    questionIsAnswered = 0;
    score = 0;
    timeSpent = "00:00";
    
    let progres = document.getElementById("progress");
    progres.style.width = 0 + "%";

    // Actualizar estadísticas iniciales
    document.getElementById("questionNumber").textContent = `${currentQuestion}/${questions.length}`;
    document.getElementById("score").textContent = score;
    document.getElementById("timer").textContent = timeSpent;

    displayQuestion();
    startTimer();
  }

  // Función para mostrar la pregunta actual
  function displayQuestion() {
    let question = questions[questionIndex];
    let answers = document.getElementById("answers");
    let output = `<h2 class="text-center bold">${currentQuestion}. ${question.question}</h2>`;
    
    // Añadir imagen si está disponible
    if (question.img) {
      output += `<div class="imgQuizContainer"><img src="${question.img}" class="imageQuiz" /></div>`;
    }
    
    // Generar las respuestas
    question.answers.forEach((answer, index) => {
      output += `
        <div class="answer">
          <input type="radio" id="answer-${index + 1}" name="answers" value="${index + 1}">
          <label for="answer-${index + 1}">
            <span class="answer-number">${index + 1}.</span> ${answer}
          </label>
        </div>`;
    });

    answers.innerHTML = output; // Actualiza el contenedor de respuestas
  }

  // Función para iniciar el temporizador
  function startTimer() {
    let s = 0, m = 0, h = 0;
    let timer = document.getElementById("timer");

    quizTimer = setInterval(() => {
      s++;
      if (s > 59) { s = 0; m++; }
      if (m > 59) { m = 0; h++; }

      let seconds = s < 10 ? "0" + s : s;
      let minutes = m < 10 ? "0" + m : m;
      let hours = h < 10 ? "0" + h : h;

      timeSpent = h ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;
      timer.textContent = timeSpent;
    }, 1000);
  }

  // Función para mostrar los resultados
  function displayResults() {
    let notification = document.getElementById("notification");
    notification.parentElement.removeChild(notification);
    quizContent.style.display = "none"; // Esconde el contenido del quiz
    resultsSection.style.display = "block"; // Muestra los resultados
    
    document.getElementById("percentage").textContent = `${scorePercentage()}%`;
    document.getElementById("correctAnswers").textContent = score;
    document.getElementById("totalQuestions").textContent = questions.length;
    document.getElementById("finalTime").textContent = timeSpent;
  }
  
   function goToNextQuestion() {
    currentQuestion++;
    questionIndex++;
    questionIsAnswered = 0;

    let notification = document.getElementById("notification");
    notification.parentElement.removeChild(notification);

    let questionNumber = document.getElementById("questionNumber");
    questionNumber.textContent = `${currentQuestion}/${questions.length}`;

    displayQuestion();
  }
  
  
  function submitAnswer(e) {
    let selectedAnswer = Number(e.target.value);
    let rightAnswer = questions[questionIndex].correctAnswer;
    let answers = document.getElementsByName("answers");
    let progress = document.getElementById("progress");

    questionIsAnswered = 1;

    progress.style.width = progressPercentage() + "%";

    let notification = document.createElement("div");
    let message = document.createElement("p");
    let label = e.target.nextElementSibling;
    notification.id = "notification";

    if (selectedAnswer === rightAnswer) {
      score++;
      message.textContent = "Respuesta correcta!";
      label.classList.add("green-bg");
    } else {
      message.textContent = "Respuesta incorrecta";
      label.classList.add("red-bg");

      answers.forEach(answer => {
        if (Number(answer.value) !== rightAnswer) return;

        answer.nextElementSibling.classList.add("green-bg");
      });
    }

    let button = document.createElement("button");
    button.classList.add("blue-btn")

    if (isLastQuestion()) {
      button.id = "show-results-btn";
      button.textContent = "Mostrar resultados";
      clearInterval(quizTimer);
      quizTimer = null;
    } else {
      button.id = "next-btn";
      button.textContent = "Continuar";
    }

    notification.appendChild(message);
    notification.appendChild(button);
    quizContent.insertAdjacentElement("afterend", notification);

    button.focus();

    answers.forEach(answer => (answer.disabled = "disabled"));

    document.getElementById("score").textContent = score;
  }
  
  let scorePercentage = () => (score / questions.length * 100).toFixed(0);
  let progressPercentage = () =>
    (currentQuestion / questions.length * 100).toFixed(0);
  let isLastQuestion = () => currentQuestion === questions.length;



  // Eventos de botones
  document.addEventListener("click", function(e) {
    if (e.target.matches("#start-quiz-btn") || e.target.matches("#start-over-btn")) initQuiz();
    if (e.target.matches("#next-btn")) goToNextQuestion();
    if (e.target.matches("#show-results-btn")) displayResults();
    if (e.target.matches("#close-results-btn")) destroyQuiz();
  });

 document.addEventListener("change", function(e) {
   // if (e.target.matches('input[type="radio"]')) submitAnswer(e);
    if (e.target.matches("[name='answers']")) submitAnswer(e);
  });

  // Resto de las funciones como `submitAnswer`, `goToNextQuestion`, etc.
}

function destroyQuiz() {
  // Ocultra el quiz y resetea el estado si es necesario
  document.querySelector(".quiz-intro").style.display = "block";
  document.getElementById("quiz-content").style.display = "none";
  document.getElementById("results").style.display = "none";
}








 document.getElementById('toggle-recorder').addEventListener('click', function() {
          var metronome = document.getElementById('recorder');
          var menuBar1 = document.getElementById('menu-bar1');
          var menuBar2 = document.getElementById('menu-bar2');
   
            if (metronome.style.display === 'none' || metronome.style.display === '') {
               document.getElementById('recorder2').style.visibility = 'visible';
                metronome.style.display = 'block';
              document.getElementById('back-menu-bar').style.visibility = 'hidden';     
              $('#audio_record-icon').prop('checked', true);
               $('#toggle-recorder').text('Detener');
              startRecording();
              vol(0.3)
            } else {
                //metronome.style.display = 'none';
              //document.getElementById('back-menu-bar').style.visibility = 'visible';
              menuBar1.style.visibility = 'hidden';
               menuBar2.style.visibility = 'visible';
              document.getElementById('recorder2').style.visibility = 'hidden';
               $('#audio_record-icon').prop('checked', false);
               $('#toggle-recorder').text('Grabar');
              vol(1)
              stopRecording();
              
            }
        });


 


 function captureUserMedia(mediaConstraints, successCallback, errorCallback) {
    navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);
  }

  var mediaConstraints = {
    audio: true
  };
  document.querySelector('#save-recording').onclick = function () {
      this.disabled = true;
      mediaRecorder.save();
      // alert('Drop WebM file on Chrome or Firefox. Both can play entire file. VLC player or other players may not work.');
  };
  //Parto con la registrazione audio
  function startRecording(idx) {
    
    $('#start-recording').disabled = true;
    audiosContainer = document.getElementById('audios-container');
    //document.getElementById("clicks").innerHTML = "Recording Started";

    var f = document.getElementById('clicks');
    setInterval(function () {
        f.style.display = (f.style.display == 'none' ? '' : 'none');
    }, 1000);

    captureUserMedia(mediaConstraints, onMediaSuccess, onMediaError);
  };
  //Stoppo la registrazione audio
  function stopRecording() {
      $('#stop-recording').disabled = true;
   
      //document.getElementById("clicks").innerHTML = "Recording Stopped";

      var f = document.getElementById('clicks');
      setInterval(function () {
          f.style.display = (f.style.display == 'none' ? '' : 'none');
      }, 1000);
    mediaRecorder.stop();
    mediaRecorder.stream.stop();
   
   
    $('.start-recording').disabled = false;
  };

  //Falvo Il file
  function saveRecording() {
      mediaRecorder.save();
  };

  var mediaRecorder;



  function onMediaSuccess(stream) {
    mediaRecorder = new MediaStreamRecorder(stream);
    mediaRecorder.stream = stream;
    mediaRecorder.mimeType = 'audio/wav';  
    //mediaRecorder.mimeType = 'audio/webm';  
    mediaRecorder.audioChannels = 1;
    mediaRecorder.ondataavailable = function(blob) {
      $('#record-audio').html("<audio id='player1' src=" + URL.createObjectURL(blob) + " style='width: 310px;' type='audio/mp3' controls></audio> ");
       const player = new MediaElementPlayer('player1', {
        features: ['playpause', 'progress'],
    }); 
      $('#delete-audio').on('click', function() {
        $('#record-audio').empty(); 
        document.getElementById("AudioData").value = "";
        document.getElementById('recorder').style.display = 'none';
        var menuBar1 = document.getElementById('menu-bar1');
        var menuBar2 = document.getElementById('menu-bar2');
        menuBar2.style.visibility = 'hidden';
        menuBar1.style.visibility = 'visible';
        document.getElementById('back-menu-bar').style.visibility = 'visible';
       
  });
      var reader = new FileReader();
          reader.onloadend = function() {
            base64Audio = reader.result.split(";")[1];
           // var base64Audio = "data:audio/mp3;"+reader.result.split(";")[1];
            document.getElementById("AudioData").value = base64Audio;
          };
          reader.readAsDataURL(blob);
    };
 
    var timeInterval = 360 * 1000;
    mediaRecorder.start(timeInterval);
    $('#stop-recording').disabled = false;
  }




  function onMediaError(e) {
    console.error('media error', e);
  }

  function bytesToSize(bytes) {
    var k = 1000;
    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
    if (bytes === 0) return '0 Bytes';
    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);
    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];
  }

  function getTimeLength(milliseconds) {
    var data = new Date(milliseconds);
    return data.getUTCHours() + " hours, " + data.getUTCMinutes() + " minutes and " + data.getUTCSeconds() + " second(s)";
  }

  window.onbeforeunload = function() {
    $('#start-recording').disabled = false;
  };


$(document).on('click','input[name="audio_record-icon"]',function(){
  var checked = $('#audio_record-icon').prop('checked');
  if(checked == true)
    {
        startRecording();
    }
  else
    {
        stopRecording();
    }
});


const slider = document.querySelector(".tempoSlider");
const sliderMax = slider.getAttribute("max");
const sliderThickFill = document.querySelector(".thick-fill");
const currentLeads = document.getElementById("tempo-disp");


function handleChange() {
  const leads = this.value;
  currentLeads.textContent = leads;
  const sliderLineWidth = leads / sliderMax * 100;
   var hue = 70 - (this.value / 200 * 70);
  sliderThickFill.style.backgroundColor = 'hsl(' + hue + ', 100%, 50%)';
  sliderThickFill.style.width = sliderLineWidth + "%";
}

slider.addEventListener("input", handleChange);





var audioCtx = new (window.AudioContext || window.webkitAudioContext)(),
    SubAudioCtx = new (window.AudioContext || window.webkitAudioContext)(),
    volume = audioCtx.createGain(),
    subvolume = SubAudioCtx.createGain(),
    noteFlag = 0,
    curtime = 0.0,
    timer,
    delta = 0;


// Elements INIT
var tempo = 60000 / (document.getElementById('tempo').value),
    
    tempo_rge = document.getElementById('tempo'),
    tempo_disp = document.getElementById('tempo-disp'),
    firstBeating = document.getElementById('checkBox'),
    plus = document.getElementById('plus'),
    minus = document.getElementById('minus'),
    extraPlus = document.getElementById('extraPlus'),
    extraMinus = document.getElementById('extraMinus'),
    beatPlus = document.getElementById('beatPlus'),
    beatMinus = document.getElementById('beatMinus'),
    start = document.getElementById('start'),
    stop = document.getElementById('stop'),
    close = document.getElementById('icon-x-close'), 
    tap = document.getElementById('tap'),
    beatFlag = document.getElementById('beatFlag'),
    beatNbr = document.getElementById('beatNbr'),
    beatCount = document.getElementById('beatCount'),
    digitalDisplayContainer = document.getElementById('digitalDisplayContainer'),  
    dotTarget = document.getElementById('dotTarget'),
    dotsDisplay = document.getElementById('dotsDisplay'),    
    digitalDisplay = document.getElementById('digitalDisplay'),
    bothDisplay = document.getElementById('bothDisplay'),
    beatDots = document.getElementsByClassName('beat'),
    semiquaver = document.getElementById('semiquaver');


function temp(v){
  tempo_disp.innerHTML = v;  
}

function vol(l){
  volume.gain.setValueAtTime(l, audioCtx.currentTime);
}

function schedule(){
  while(curtime < audioCtx.currentTime + 0.1){
    if(noteFlag >= beatCount.value){
      noteFlag = 0;
    }
    playNote(curtime); 

    
    console.log(curtime);
    console.log(curtime);
    
    updateTime();

    var child = document.querySelectorAll('#dotTarget li');      
    
    if(noteFlag === 0){
      child[noteFlag].className += " on-temp";
      child[child.length - 1].classList.remove("on-temp");
    }
    else{
      child[noteFlag].className += " on-temp";
      child[noteFlag - 1].classList.remove("on-temp");
    }
    beatFlag.innerHTML = noteFlag+1;
    noteFlag++;
  }
  timer = window.setTimeout(schedule, 0.1);
}

function updateTime(){
  curtime += 60.0 / parseInt(tempo_rge.value, 10);
}

function playNote(t){
  var note = audioCtx.createOscillator();
  note.connect(volume);
  volume.connect(audioCtx.destination);
  
  note.type = 'sine';
  

 /* 
var now = audioCtx.currentTime;
var attackTime = .1;
var releaseTime = 0.01;

volume.gain.setValueAtTime(0, now);
volume.gain.linearRampToValueAtTime(2, now + attackTime);
volume.gain.linearRampToValueAtTime(0, now + attackTime + releaseTime);*/

note.frequency.setValueAtTime(2100, audioCtx.currentTime);  

/*  if(firstBeating.checked){
    if(noteFlag == 0){
      note.frequency.setValueAtTime(1600, audioCtx.currentTime);    
    }
    else{
      for(var i=0; i < beatDots.length; i++){    
        if(beatDots[noteFlag].className == "beat active"){
            note.frequency.setValueAtTime(800, audioCtx.currentTime);
           }
        else{
           note.frequency.setValueAtTime(400, audioCtx.currentTime);       
        }
      } 
    }
  }  
  else{
      for(var i=0; i < beatDots.length; i++){    
        if(beatDots[noteFlag].className == "beat active"){
          note.frequency.setValueAtTime(800, audioCtx.currentTime);
        }
        else{
          note.frequency.setValueAtTime(400, audioCtx.currentTime);       
        }
      } 
    }*/
  
  note.start(t);
  note.stop(t + 0.04);  
}

function playSubNote(nt){
  var subnote = SubAudioCtx.createOscillator();
  
  subvolume.connect(SubAudioCtx.destination);
  subvolume.gain.setValueAtTime(0.2, SubAudioCtx.currentTime);   
  
  subnote.connect(subvolume);
  subnote.type = 'sine';
  subnote.frequency.setValueAtTime(400, SubAudioCtx.currentTime);  
  
  subnote.start(nt);
  subnote.stop(nt + 0.04); 
}

function clickDots(){
  for(u = 0; u < beatDots.length; u++){
    beatDots[u].addEventListener('click', function(){
      if(this.className === "beat active"){
         this.className = "beat";
      }
      else{
        this.className += " active";     
      }
    });
  }  
}
clickDots()

start.addEventListener('click', function(){
  curtime = audioCtx.currentTime;
  schedule(); 
  this.style.display = "none";
  stop.style.display = "block";
});

stop.addEventListener('click', function(){
  window.clearInterval(timer);
  noteFlag = 0;
  beatFlag.innerHTML = 1;
  for(u = 0; u < beatDots.length; u++){
    beatDots[u].classList.remove("on-temp");
  }

  this.style.display = "none";
  start.style.display = "block";
});

close.addEventListener('click', function(){
  window.clearInterval(timer);
  noteFlag = 0;
  beatFlag.innerHTML = 1;
  for(u = 0; u < beatDots.length; u++){
    beatDots[u].classList.remove("on-temp");
  }
  stop.style.display = "none";
  start.style.display = "block";

});

tap.addEventListener('click', function(){
  var d = new Date();
  var temp = d.getTime();
  
  var tap_temp = Math.ceil(60000 / (temp - delta));
  
  tempo_disp.innerHTML = tap_temp; 
  tempo_rge.value = tap_temp;
  delta = temp;
  
  if(tap_temp > 240){
    tempo_disp.innerHTML = 240;
    tempo_rge.value = 240;
  } 
});

plus.addEventListener('click', function(){
    tempo_rge.value +++ 1;
    tempo_disp.innerHTML = tempo_rge.value;
});

extraPlus.addEventListener('click', function(){
    tempo_rge.value = tempo_rge.value +++ 5;
    tempo_disp.innerHTML = tempo_rge.value;
});

beatPlus.addEventListener('click', function(){
    beatCount.value = beatCount.value +++ 1;
    if( beatCount.value > 12){
      beatCount.value = 12;
    }
    beatNbr.innerHTML =  "/"+beatCount.value;
    var i = 0,
    target = document.getElementById('dotTarget');
    target.innerHTML = "";
    while(i < beatCount.value){
      var dot = document.createElement("li");
      dot.className = "beat";  
      target.append(dot);  
      i++;
    }
    clickDots()
});

minus.addEventListener('click', function(){
    tempo_rge.value --- 1;
    tempo_disp.innerHTML = tempo_rge.value;
});

extraMinus.addEventListener('click', function(){
    tempo_rge.value = tempo_rge.value --- 5;
    tempo_disp.innerHTML = tempo_rge.value;
});

beatMinus.addEventListener('click', function(){
    beatCount.value = beatCount.value --- 1;
    if( beatCount.value < 1){
      beatCount.value = 1;
    }
    beatNbr.innerHTML =  "/"+beatCount.value;
    var i = 0,
    target = document.getElementById('dotTarget');
    target.innerHTML = "";
    while(i < beatCount.value){
      var dot = document.createElement("li");
      dot.className = "beat";  
      target.append(dot);  
      i++;
    }
    clickDots();
});


dotsDisplay.addEventListener('click', function(){
    dotsDisplay.className = 'header-btn button-active';
    if(digitalDisplay.className == 'header-btn button-active' || bothDisplay.className == 'header-btn button-active'){
      digitalDisplay.classList.remove('button-active');
      bothDisplay.classList.remove('button-active');
    }
    dotTarget.style.display = 'flex';
    digitalDisplayContainer.style.display = 'none';
});



digitalDisplay.addEventListener('click', function(){
    digitalDisplay.className = 'header-btn button-active';
    if(dotsDisplay.className == 'header-btn button-active' || bothDisplay.className == 'header-btn button-active'){
      dotsDisplay.classList.remove('button-active');
      bothDisplay.classList.remove('button-active');
    }
    digitalDisplayContainer.style.display = 'flex';
    dotTarget.style.display = 'none';
});

bothDisplay.addEventListener('click', function(){
    bothDisplay.className = 'header-btn button-active';
    if(dotsDisplay.className == 'header-btn button-active' || digitalDisplay.className == 'header-btn button-active'){
      dotsDisplay.classList.remove('button-active');
      digitalDisplay.classList.remove('button-active');
    }
    dotTarget.style.display = 'flex';
    digitalDisplayContainer.style.display = 'flex';
});


  setInterval(function() {
    location.reload(); 
}, 60000); 



</script>
