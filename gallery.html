

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css"></link>
<!---
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> 
--->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css"></link>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/js/bootstrap.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js'></script>
<script async defer src="//www.instagram.com/embed.js"></script>
</head>


<style>
	/*** base color: #f27275 ***/
body {
  font-size: 0.9rem;
  background: silver;
}

a {color: #f27275;}a:hover, a:focus {color:#666;}

/*** HEADER ***/


.kol_header {
  position: fixed;
  display: flex;
  background: #fff;
  height: 56px;
  width: 100%;
  align-items: center;
  justify-content: space-around;
  border-bottom: 1px solid #eee;
  z-index: 99;
}
.kol_header .logo{}
.kol_header .arama{color:#aaa;opacity: .7;} .kol_header .arama:hover,.kol_header .arama:focus{opacity:1;}
.kol_header .butonlar{}

/*** FILTER POSTS ***/
.filtermenu {
  width: 100%;
  margin-left: -20px;
  text-align: center;
}
.filtermenu li {
  border: 1px solid #CCC;
  padding: 4px 12px;
  display: inline-block;
  border-radius: 6px;
  cursor: pointer;
}
.filtermenu li.active {
  background: #CCC;
}

/*** POSTS ***/
.post {
  display:flex;
  flex-direction: column;
  background: #fff;
  border-radius: 4px;
  margin-bottom: 10px;
}


.post_thumbnail img{width:100%;text-align: center;}
.post_header, .post_footer {
  padding: 10px 20px;
  color: #777;
  width: 100%;
}

/** Insta Post **/
iframe#instagram-embed-0{height: auto;}
.Header {display: none;}
.HoverCard {display: none;}
.Feedback {display: none;}
.SocialProof {display: none;}
.Footer {display: none;}
/** Post Tumblr **/
.post-header {display: none;}
.post_body {display: none;}
.post-tags {display: none;}
.post-footer {display: none !important;}

/*** Pagination ***/
.hr-pagi{width:70%;}
.pagination a,.pagination a:hover,.pagination a:focus{color:#f27275;}

/*** KEYFRAMES ***/
@keyframes swing {
  0% {
    transform: rotate(0deg);
  }
  10% {
    transform: rotate(10deg);
  }
  30% {
    transform: rotate(0deg);
  }
  40% {
    transform: rotate(-10deg);
  }
  50% {
    transform: rotate(0deg);
  }
  60% {
    transform: rotate(5deg);
  }
  70% {
    transform: rotate(0deg);
  }
  80% {
    transform: rotate(-5deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes sonar {
  0% {
    transform: scale(0.9);
    opacity: 1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}


/*** RESPONSIVE ***/
@media screen and (min-width: 768px) {
  .post{width:60%;margin: 0 auto 10px auto;}
  .hr-pagi{width:30%;}
}


/*** SOL MENU ALL ***/


/*----------------page-wrapper----------------*/

.page-wrapper {
  height: 100vh;
}

.page-wrapper .theme {
  width: 40px;
  height: 40px;
  display: inline-block;
  border-radius: 4px;
  margin: 2px;
}

.page-wrapper .theme.chiller-theme {
  background: #fafafa;
}

/*----------------toggeled sidebar----------------*/

.page-wrapper.toggled .sidebar-wrapper {
  left: 0px;
}

@media screen and (min-width: 768px) {
  .page-wrapper.toggled .page-content {
    padding-left: 300px;
  }
}

.badge-sonar {
  display: inline-block;
  background: #980303;
  border-radius: 50%;
  height: 8px;
  width: 8px;
  position: absolute;
  top: 0;
}

.badge-sonar:after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  border: 2px solid #980303;
  opacity: 0;
  border-radius: 50%;
  width: 100%;
  height: 100%;
  animation: sonar 1.5s infinite;
}

/*--------------------------page-content-----------------------------*/

.page-wrapper .page-content {
  display: inline-block;
  width: 100%;
  padding-left: 0px;
  padding-top: 20px;
}

.page-wrapper .page-content > div {
  padding: 20px 40px;
}

.page-wrapper .page-content {
  overflow-x: hidden;
}

/*------scroll bar---------------------*/

::-webkit-scrollbar {
  width: 7px;
  height: 7px;
}
::-webkit-scrollbar-button {
  width: 0px;
  height: 0px;
}
::-webkit-scrollbar-thumb {
  background: #636269;
  border: 0px none #ffffff;
  border-radius: 50px;
}
::-webkit-scrollbar-thumb:hover {
  background: #636269;
}
::-webkit-scrollbar-thumb:active {
  background: #636269;
}
::-webkit-scrollbar-track {
  background: #333238;
  border: 0px none #ffffff;
  border-radius: 50px;
}
::-webkit-scrollbar-track:hover {
  background: #333238;
}
::-webkit-scrollbar-track:active {
  background: #333238;
}
::-webkit-scrollbar-corner {
  background: transparent;
}





.container {
font-family: 'Raleway';
  font-size: 14px;
  margin-top: -30px;
  margin-bottom: 15px;
  font-weight: 500;
  -webkit-font-smoothing: antialiased;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.card-wrap {
  margin: 10px;
  transform: perspective(800px);
  transform-style: preserve-3d;
  cursor: pointer;
}
.card-wrap:hover .card-info {
  transform: translateY(0);
}
.card-wrap:hover .card-info p {
  opacity: 1;
}
.card-wrap:hover .card-info, .card-wrap:hover .card-info p {
  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1);
}
.card-wrap:hover .card-info:after {
  transition: 5s cubic-bezier(0.23, 1, 0.32, 1);
  opacity: 1;
  transform: translateY(0);
}
.card-wrap:hover .card-bg {
  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 5s cubic-bezier(0.23, 1, 0.32, 1);
  opacity: 1;
}
.card-wrap:hover .card {
  transition: 0.6s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 2s cubic-bezier(0.23, 1, 0.32, 1);
  box-shadow: rgba(255, 255, 255, 0.2) 0 0 40px 5px, white 0 0 0 1px, rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px, inset white 0 0 0 6px;
}

.card {
  position: relative;
  
  flex: 0 0 240px;
  width: 240px;
  height: 320px;
  background-color: #333;
  overflow: hidden;
  border-radius: 10px;
  box-shadow: rgba(0, 0, 0, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px, inset rgba(255, 255, 255, 0.5) 0 0 0 6px;
  transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
}

.card-bg {
  opacity: 0.75;
  position: absolute;

  width: 100%;
  height: 100%;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  transition: 1s cubic-bezier(0.445, 0.05, 0.55, 0.95), opacity 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
  pointer-events: none;
}

.card-info {
  padding: 20px;
  position: absolute;
  bottom: 0;
  color: #fff;
  transform: translateY(40%);
  transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);
}
.card-info p {
  opacity: 0;
  text-shadow: black 0 2px 3px;
  transition: 0.6s 1.6s cubic-bezier(0.215, 0.61, 0.355, 1);
}
.card-info * {
  position: relative;
  z-index: 1;
}
.card-info:after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  z-index: 0;
  width: 100%;
  height: 100%;
  background-image: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.6) 100%);
  background-blend-mode: overlay;
  opacity: 0;
  transform: translateY(100%);
  transition: 5s 1s cubic-bezier(0.445, 0.05, 0.55, 0.95);
}

.card-info h1 {
  font-family: 'Playfair Display';
  font-size: 36px;
  font-weight: 700;
  text-shadow: rgba(0, 0, 0, 0.5) 0 10px 10px;
}


#op{
  transform: scale(1.4);
  display: none;
}

#opicon:active op{
  transform: scale(1.2);
}


.btn-outline-danger.active {
  color: #dc3545;
  background-color: transparent;
  border-color: #dc3545;
}





.profile-container{
  font-family: "Jost", sans-serif;
  padding: 10px;
  
}

.card2 {
  
  margin: auto;
  overflow-y: auto;
  position: relative;
  z-index: 1;
  overflow-x: hidden;
  background-color: rgba(255, 255, 255, 1);
  display: flex;
  transition: 0.3s;
  flex-direction: column;
  border-radius: 10px;
  box-shadow: 0 0 0 8px rgba(255, 255, 255, 0.2);
  height: 415px;
}


.card2.is-active .card-header {
  height: 80px;
}
.card2.is-active .card-cover {
  height: 100px;
  top: -50px;
}
.card2.is-active .card-avatar {
  transform: none;
  left: 20px;
  width: 50px;
  height: 50px;
  bottom: 10px;
}
.card2.is-active .card-fullname,
.card2.is-active .card-jobtitle {
  left: 86px;
  transform: none;
}
.card2.is-active .card-fullname {
  bottom: 18px;
  font-size: 19px;
}
.card2.is-active .card-jobtitle {
  bottom: 16px;
  letter-spacing: 1px;
  font-size: 10px;
}

.card-header {
  position: relative;
  display: flex;
  height: 200px;
  flex-shrink: 0;
  width: 100%;
  transition: 0.3s;
}
.card-header * {
  transition: 0.3s;
}



.card-avatar {
  width: 100px;
  height: 100px;
  box-shadow: 0 8px 8px rgba(0, 0, 0, 0.2);
  border-radius: 50%;
  -o-object-position: center;
     object-position: center;
  -o-object-fit: cover;
     object-fit: cover;
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) translateY(-64px);
}

.card-fullname {
  position: absolute;
  bottom: 0;
  font-size: 22px;
  font-weight: 700;
  text-align: center;
  white-space: nowrap;
  transform: translateY(-10px) translateX(-50%);
  left: 50%;
}

.card-jobtitle {
  position: absolute;
  bottom: 0;
  font-size: 11px;
  white-space: nowrap;
  font-weight: 500;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  margin: 0;
  left: 50%;
  transform: translateX(-50%) translateY(-7px);
}

.card-main {
  position: relative;
  flex: 1;
  display: flex;
  padding-top: 10px;
  flex-direction: column;
  margin-top: 10px;
}

.card-subtitle {
  font-weight: 700;
  font-size: 13px;
  margin-bottom: 8px;
}

.card-content {
  padding: 20px;
}

.card-desc {
  line-height: 1.6;
  color: #636b6f;
  font-size: 14px;
  margin: 0;
  font-weight: 400;
  font-family: "DM Sans", sans-serif;
}

.card-social {
  display: flex;
  align-items: center;
  padding: 0 20px;
  margin-bottom: 30px;
}
.card-social svg {
  fill: #a5b5ce;
  width: 16px;
  display: block;
  transition: 0.3s;
}
.card-social a {
  color: #8797a1;
  height: 32px;
  width: 32px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: 0.3s;
  background-color: rgba(93, 133, 193, 0.05);
  border-radius: 50%;
  margin-right: 10px;
}
.card-social a:hover svg {
  fill: #637faa;
}
.card-social a:last-child {
  margin-right: 0;
}

.card-buttons {
  display: flex;
  background-color: #fff;
  margin-top: auto;
  position: sticky;
  bottom: 0;
  left: 0;
}
.card-buttons button {
  flex: 1 1 auto;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  background: 0;
  font-size: 13px;
  border: 0;
  padding: 15px 5px;
  cursor: pointer;
  color: #5c5c6d;
  transition: 0.3s;
  font-family: "Jost", sans-serif;
  font-weight: 500;
  outline: 0;
  border-bottom: 3px solid transparent;
}
.card-buttons button.is-active, .card-buttons button:hover {
  color: #2b2c48;
  border-bottom: 3px solid #8a84ff;
  background: linear-gradient(to bottom, rgba(127, 199, 231, 0) 0%, rgba(207, 204, 255, 0.2) 44%, rgba(211, 226, 255, 0.4) 100%);
}


.card-section.is-active {
  display: block;
  -webkit-animation: fadeIn 0.6s both;
          animation: fadeIn 0.6s both;
}

@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    transform: translatey(40px);
  }
  100% {
    opacity: 1;
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
    transform: translatey(40px);
  }
  100% {
    opacity: 1;
  }
}
.card-timeline {
  margin-top: 20px;
  position: relative;
}
.card-timeline:after {
  background: linear-gradient(to top, rgba(134, 214, 243, 0) 0%, #516acc 100%);
  content: "";
  left: 42px;
  width: 2px;
  top: 0;
  height: 100%;
  position: absolute;
  content: "";
}

.card-item {
  position: relative;
  padding-left: 60px;
  padding-right: 20px;
  padding-bottom: 30px;
  z-index: 1;
}
.card-item:last-child {
  padding-bottom: 5px;
}
.card-item:after {
  content: attr(data-year);
  width: 10px;
  position: absolute;
  top: 0;
  left: 37px;
  width: 8px;
  height: 8px;
  line-height: 0.6;
  border: 2px solid #fff;
  font-size: 11px;
  text-indent: -35px;
  border-radius: 50%;
  color: rgba(134, 134, 134, 0.7);
  background: linear-gradient(to bottom, #a0aee3 0%, #516acc 100%);
}

.card-item-title {
  font-weight: 500;
  font-size: 14px;
  margin-bottom: 5px;
}

.card-item-desc {
  font-size: 13px;
  color: #6f6f7b;
  line-height: 1.5;
  font-family: "DM Sans", sans-serif;
}



.bar-column {
  top: 210px;
	position: absolute;
   width: 100%;
  margin-left: 15%;
  margin-right: 15%;

}



.bar {
	height: 8px;
	width: 58%;
	border-radius: 4px;
	background-color: #484B53;
	position: absolute;
}

.fill {
	height: 8px;
	border-radius: 4px;
	background-color: #FF8095;
	box-shadow: 0px 0px 30px #FF2AA6;
	position: absolute;
}

.fill-u {
	width: 50%;
	animation-name: filling-u;
	animation-duration: 1s;
	animation-timing-function: ease-out;
	animation-iteration-count: initial;
}

@keyframes filling-u {
	0% {
		box-shadow: 0px 0px 0px #FF2AA6;
		width: 0px;
	}
	100% {
		box-shadow: 0px 0px 30px #FF2AA6;
		width: 50%;
	}
}


.showbox {
  display: flex;
    justify-content: center;
    align-items: center;
    height: 60vh;
}

.loader {
  position: relative;
  margin: 0px auto;
  width: 100px;
}
.loader:before {
  content: "";
  display: block;
  padding-top: 100%;
}

.circular {
  -webkit-animation: rotate 2s linear infinite;
          animation: rotate 2s linear infinite;
  height: 100%;
  transform-origin: center center;
  width: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}

.path {
  stroke-dasharray: 1, 200;
  stroke-dashoffset: 0;
  -webkit-animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
          animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
  stroke-linecap: round;
}

@-webkit-keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}
@-webkit-keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -124px;
  }
}
@keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -124px;
  }
}
@-webkit-keyframes color {
  100%, 0% {
    stroke: #d62d20;
  }
  40% {
    stroke: #0057e7;
  }
  66% {
    stroke: #008744;
  }
  80%, 90% {
    stroke: #ffa700;
  }
}
@keyframes color {
  100%, 0% {
    stroke: #d62d20;
  }
  40% {
    stroke: #0057e7;
  }
  66% {
    stroke: #008744;
  }
  80%, 90% {
    stroke: #ffa700;
  }
}

@media (max-width: 600px) {  
  .modal .modal-dialog{
    margin-left: 30px !important; 
    margin-right: 30px;
  }
}
  
  @media (min-width: 700px) {  
    .youtubeframe{
      height: 340px;
    }
}


</style>

 

<body style="background: #ddd" ng-app="postApp" ng-controller="postController" >
  
  
  
<div class="page-wrapper chiller-theme">
        <main class="page-content"> 
            <div class="container-fluid">
                <div class="row">
                  <ul class="filtermenu">
                        <li ng-click="filterPosts('all')" ng-class="{active: filter === 'all'}">Recientes</li>
                        <li ng-click="filterPosts('youtube')" ng-class="{active: filter === 'youtube'}">Videos</li>
                        <li ng-click="filterPosts('diploma')" ng-class="{active: filter === 'diploma'}">Diplomas</li>
                    </ul>
                    <div class="col-md-12 posts-group">
                       
      <div class="showbox" ng-if="userDataLoaded">
      <div class="loader">
        <svg class="circular" viewbox="25 25 50 50">
          <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>
        </svg>
      </div>
    </div>  
                      
    <div ng-repeat="post in filteredData.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage))">
                        <div class="post " >
                          <div class="post_header">
                            <a href="#" ng-click="handleUserProfile(post.user)">{{post.user}}</a>
                            <div style="float:right;"> {{post.date}} </div>
                          </div>
                          <div class="post_thumbnail">
  <div style="height: 150px; background: #343434; display: flex; justify-content: center; align-items: center;" ng-if="post.type == 'audio'">
                              <div style="margin-top: 45px;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 125" height="160" style="filter: invert(1);">
        <path d="M85.83,53.22h-5L77.37,42.86a1.9,1.9,0,0,0-3.66.21L69.46,63.32,64.87,32.67a1.9,1.9,0,0,0-3.76.06L57.26,66.94l-5-43.9a1.9,1.9,0,0,0-3.78,0l-5,43.9L39.69,32.73a1.9,1.9,0,0,0-3.77-.06l-4.48,30L27.12,38.93a1.9,1.9,0,0,0-3.71-.14L19.89,52.33H14.13a1.5,1.5,0,1,0,0,3h6.61a1.91,1.91,0,0,0,1.84-1.43l2.48-9.54L29.68,69.7a1.9,1.9,0,0,0,3.75-.06l4.22-28.22,4,35.54a1.9,1.9,0,0,0,3.78,0L50.4,33l5,43.94a1.9,1.9,0,0,0,3.77,0l4-35.54L67.4,69.83a1.9,1.9,0,0,0,3.73.1l4.68-22.27,2.52,7.53a1.48,1.48,0,0,0,1.42,1h6.08A1.5,1.5,0,0,0,85.83,53.22Z"/>
                                </svg></div>
 
</div>                           
                               <iframe width="100%" height="{{post.height}}" ng-src="{{trustAsResourceUrl(post.url)}}" frameborder="0" ng-class="{'youtubeframe': post.type != 'audio'}"></iframe>

                         
  <div id='app2' class='container' ng-if="post.type == 'diploma'" >
  <card data-image='{{post.url}}' >
    <h1 slot='header'>click</h1>
    <p slot='content'>Reconocimiento por haber concluido el nivel preparatorio</p>
  </card> 
</div> 
                        <!---    <img src="https://loremflickr.com/620/640/istanbul?random=1" /> --->
                          </div>
                          <div class="post_footer" ng-if="post.type != 'instagram'">
                             
                         <div class="row">
  <div class="col">
    <p>{{post.likes.length}} likes</p>
  </div>
  <div class="col">
 
               <div class="btn-toolbar justify-content-end" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group mr-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-outline-danger btn-sm"  ng-class="{ 'active': dangerButtonActive[$index] }" ng-click="newLike($index, post)">
      <i class="far fa-heart" aria-hidden="true"></i>
    </button>
    <button type="button" class="btn btn-outline-info btn-sm" ng-click="openModal(post)">
      <i class="far fa-comments" aria-hidden="true"></i>
    </button>
    
  </div>
</div>
</div>
</div>
                            
              <a data-toggle="collapse" href="#collapse{{post.id}}" role="button" aria-expanded="false" aria-controls="collapse{{post.id}}">comentarios...</a>
        <div class="comments collapse multi-collapse" id="collapse{{post.id}}">
            <p ng-repeat="comment in post.comments">{{comment.user}}: {{comment.comment}}</p>   
        </div>    
    </div> 
   </div>
            
                       
                    
                      </div>

                    </div>
                </div>
                <hr class="hr-pagi">  
              
              
               <div class="row">
                    <div class="form-group col-md-12">           
         <nav aria-label="Page navigation pagination">
              <ul class="pagination justify-content-center">
                <li class="page-item" ng-class="{disabled: currentPage === 1}">
                  <a class="page-link" href="#" ng-click="prevPage()">Previous</a>
                </li>
                <li class="page-item" ng-repeat="page in getPages()" ng-class="{active: currentPage === page}">
                  <a class="page-link" href="#" ng-click="setPage(page)">{{page}}</a>
                </li>
                <li class="page-item" ng-class="{disabled: currentPage === totalPages}">
                  <a class="page-link" href="#" ng-click="nextPage()">Next</a>
                </li>
              </ul>
            </nav>
                    </div>
                </div>
              
              
         
            </div>
        </main>
        <!-- page-content" -->
    </div>
    <!-- page-wrapper -->
  
  
  
  
<div class="modal fade" id="profileModal" tabindex="-1" role="dialog" aria-labelledby="profileModalLabel" aria-hidden="true" >
   
    <div class="modal-dialog " role="document" >
      
       <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
      
        <div class="modal-content" style="margin: 0;">
          
          
        

  <!--- open modal content--->
  
  <div ng-repeat="user in profileData">
    <div class="profile-container" ng-if="user.username === currentMain" >
        <div class="card2" ng-class="{ 'is-active': currentSection === '#experience' }" data-state="#about">
            <div class="card-header" >

                <img class="card-avatar" ng-src="{{user.photo}}" alt="avatar" />
                <h1 class="card-fullname" style="margin-bottom: 15px;">{{user.nameshort}}</h1>

                <h2 class="card-jobtitle"  >

                    <span class="site-name">{{user.level}}</span>
                </h2>
              
    

           <div class="bar-column " ng-if="currentSection === '#about'">
                        <div class="bar u">
                            <div class="fill fill-u">
                            </div>
                        </div>
           </div> 
            </div>
          
            <div class="card-main">
                <div class="card-section" ng-if="currentSection === '#about'" id="about">
                    <div class="card-content">
                        <div class="card-subtitle">{{user.username}}</div>
                        <p class="card-desc">Insignias:</p>
                    </div>
                    <div class="card-social">
                        <a href="#"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M15.997 3.985h2.191V.169C17.81.117 16.51 0 14.996 0c-3.159 0-5.323 1.987-5.323 5.639V9H6.187v4.266h3.486V24h4.274V13.267h3.345l.531-4.266h-3.877V6.062c.001-1.233.333-2.077 2.051-2.077z" />
                            </svg></a>
                        <a href="#"></a>
                        <a href="#"></a>
                        <a href="#"> <i class="far fa-heart" aria-hidden="true"></i></a>
                    </div>
                </div>
                <div class="card-section" ng-if="currentSection === '#experience'" id="experience" style="margin-top: -20px; ">
                    <div class="card-content" >
                        <div class="card-subtitle">ÚLTIMA ACTIVIDAD</div>
                        <div class="card-timeline" style=" overflow-y: auto; max-height: 208px;">

                            <div class="card-item" >
                                <div class="card-item-title">Sube de nivel</div>
                                <div class="card-item-desc">Termina el bloque 1 del nivel preparatorio</div>
                            </div>
                            <div class="card-item" >
                                <div class="card-item-title">Illustrator at <span>Google</span></div>
                                <div class="card-item-desc">Onboarding illustrations for App.</div>
                            </div>
                            <div class="card-item" >
                                <div class="card-item-title">Full-Stack Developer at <span>CodePen</span></div>
                                <div class="card-item-desc">Responsible for the encomposing brand expreience.</div>
                            </div>
                          
                        </div>
                    </div>
                </div>

                <div class="card-buttons">
                    <button ng-click="handleButtonClick('#about')" ng-class="{ 'is-active': currentSection === '#about' }">PERFIL</button>
                    <button ng-click="handleButtonClick('#experience')" ng-class="{ 'is-active': currentSection === '#experience' }">HISTORIAL</button>

                </div>
            </div>
        </div>
    </div>
</div>

  
<!--- close modal content--->


        </div>
    </div>
</div>



<script type="module">
	
import confetti from "https://esm.run/canvas-confetti@1";

   /*   
window.anim = function() {
            confetti({
                particleCount: 150,
                spread: 60
            });
        };*/

 
var app = angular.module('postApp', [])
 app.controller('postController', ['$scope', '$http', '$interval', '$sce', '$timeout', function($scope, $http, $interval, $sce, $timeout) {
    $scope.trustAsResourceUrl = function(url) {
        return $sce.trustAsResourceUrl(url);
    };
   $scope.userDataLoaded = true
     $scope.data = [];
  $scope.filteredData = [];
  $scope.currentPage = 1;
  $scope.itemsPerPage = 6;
  $scope.totalPages = 1;


    $http({
      method: 'GET',
      url: 'https://script.google.com/macros/s/AKfycbxN34IjjTFdUaPKeyLFI5-VCzDcBznvBB96B1IbWLAlSbqjISYOTK08Z07XrC2xDuwV/exec',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      }
    }).then(function(response) {
      $scope.data = response.data.posts; 
       $scope.profileData = response.data.profiles
      $scope.filterPosts('all');
      $scope.updatePagination();
      $scope.userDataLoaded = false
    });
   
    
   
    $scope.user = "@anonimo"

 var requestData = {
        action: "getUserName",
        token: localStorage.getItem('MStoken')
    };

    var config = {
        headers: {
            "Content-Type": "text/plain;charset=utf-8"
        }
    };

$http.post('https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec', requestData, config)
    .then(function(response) {
      $scope.user = response.data
    });

   
   
     $scope.sendLike = function(postid){
 var requestData = {
        action: "newLike",
        token: localStorage.getItem('MStoken'),
        postid: postid
    };

    var config = {
        headers: {
            "Content-Type": "text/plain;charset=utf-8"
        }
    };

 $http.post('https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec', requestData, config)
    .then(function(response) {
    });
}



    $scope.sendComment = function(postid, comment){
 var requestData = {
        action: "newComment",
        token: localStorage.getItem('MStoken'),
        comment: comment,
        postid: postid
    };

    var config = {
        headers: {
            "Content-Type": "text/plain;charset=utf-8"
        }
    };
 $http.post('https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec', requestData, config)
    .then(function(response) {
    });
}
   
   

  $scope.updatePagination = function() {
    $scope.totalPages = Math.ceil($scope.filteredData.length / $scope.itemsPerPage);
    $scope.currentPage = 1;
  };

  $scope.getPages = function() {
    var pages = [];
    for (var i = 1; i <= $scope.totalPages; i++) {
      pages.push(i);
    }
    return pages;
  };

  $scope.setPage = function(page) {
    if (page >= 1 && page <= $scope.totalPages) {
      $scope.currentPage = page;
    }
  };

  $scope.prevPage = function() {
    if ($scope.currentPage > 1) {
      $scope.currentPage--;
    }
  };

  $scope.nextPage = function() {
    if ($scope.currentPage < $scope.totalPages) {
      $scope.currentPage++;
    }
  };

  $scope.filterPosts = function(type) {
    $scope.filter = type;
    if (type === 'all') {
      $scope.filteredData = $scope.data;
    } else {
      $scope.filteredData = $scope.data.filter(function(post) {
        return post.type === type;
      });
    }
     $timeout(function() {
            $('.post').hide().fadeIn(400);
        }, 100);
    $scope.updatePagination();
  };


   
$scope.openModal = function(post) {
    $scope.selectedPost = post;
    var userInput = prompt("Agregar comentario:");

    if (userInput !== null) {
        var newComment = { user: $scope.user, comment: userInput };
        
        // Encuentra el objeto correspondiente en $scope.data
        var selectedDataItem = $scope.data.find(item => item.id === $scope.selectedPost.id);
        if (selectedDataItem) {
            // Agrega el nuevo comentario al arreglo de comentarios
            selectedDataItem.comments.push(newComment);
          $scope.sendComment(post.id, userInput)
        }
    }
};



   $scope.dangerButtonActive = []; 

$scope.newLike = function(index, post) {
    if (!$scope.dangerButtonActive[index]) {
        confetti({
            particleCount: 150,
            spread: 60
        }); 
        $scope.dangerButtonActive[index] = true;
      $scope.sendLike(post.id)
    } 
    $scope.selectedPost = post;
    var selectedDataItem = $scope.data.find(item => item.id === $scope.selectedPost.id);

    if (selectedDataItem) {
        // Verifica si el usuario ya ha dado "like"
        if (!selectedDataItem.likes.includes($scope.user)) {
            // Agrega el nuevo "like" al arreglo de likes
            selectedDataItem.likes.push($scope.user);
        } 
    }
};
   
 

   $scope.currentSection = '#about';
   $scope.handleButtonClick = function(section) {
        $scope.currentSection = section;
    };
   $scope.handleUserProfile = function(username) {
      $scope.currentMain = username;
      $('#profileModal').modal('show');
    };
   
   
   


   
}]);







Vue.config.devtools = true;

Vue.component('card', {
  template: `
    <div class='card-wrap'
      @mouseenter='handleMouseEnter'
      @mouseleave='handleMouseLeave'
      ref='card'>
      <div class='card'
        :style='cardStyle'>
        <div class='card-bg' :style='[cardBgTransform, cardBgImage]'></div>
        <div class='card-info'>
          <slot name='header'></slot>
          <slot name='content'></slot>
        </div>
      </div>
    </div>`,
  mounted() {
    this.width = this.$refs.card.offsetWidth;
    this.height = this.$refs.card.offsetHeight;

    // Add devicemotion event listener
    window.addEventListener('devicemotion', this.handleDeviceMotion);
  },
  destroyed() {
    // Remove devicemotion event listener when component is destroyed
    window.removeEventListener('devicemotion', this.handleDeviceMotion);
  },
  props: ['dataImage'],
  data: () => ({
    width: 0,
    height: 0,
    gravity: { x: 0, y: 0, z: 0 }
  }),
  computed: {
    cardStyle() {
      const rX = this.gravity.x * 20;
      const rY = this.gravity.y * -20;
      return {
        transform: `rotateY(${rX}deg) rotateX(${rY}deg)`
      };
    },
    cardBgTransform() {
      const tX = this.gravity.x * -30;
      const tY = this.gravity.y * -30;
      return {
        transform: `translateX(${tX}px) translateY(${tY}px)`
      };
    },
    cardBgImage() {
      return {
        backgroundImage: `url(${this.dataImage})`
      };
    }
  },
  methods: {
    handleMouseEnter() {
      clearTimeout(this.mouseLeaveDelay);
    },
    handleMouseLeave() {
      this.mouseLeaveDelay = setTimeout(() => {
        this.gravity.x = 0;
        this.gravity.y = 0;
      }, 100);
    }
  }
});

const app2 = new Vue({
  el: '#app2'
});





</script>
  
</body>
